<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="<strong>?meta:description</strong>">

<title>Joseph Salmon - HLMA 408: Premiers pas en Python/Pandas</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<link href="../../../..//img/Flag_of_Occitania.svg" rel="icon" type="image/svg+xml">
<script src="../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background-image: url(../../../../img/bg_pine_trees.jpg);
background-size: cover;
      }
</style>
<meta name="author" content="Joseph Salmon">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../../img/Flag_of_Occitania.svg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../../../index.html">
    <span class="navbar-title">Joseph Salmon</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../Courses/index.html"> 
<span class="menu-text">Courses</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../talks/index.html"> 
<span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../team/index.html"> 
<span class="menu-text">Team</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../blog/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/josephsalmon"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://sigmoid.social/@josephsalmon"> <i class="bi bi-mastodon" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/joseph-salmon-6134262a6/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:joseph.salmon@inria.fr"> <i class="bi bi-envelope" role="img" aria-label="email">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default blog-post page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">HLMA 408: Premiers pas en <em>Python/Pandas</em></h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#hlma-408-premiers-pas-en-pythonpandas" id="toc-hlma-408-premiers-pas-en-pythonpandas" class="nav-link active" data-scroll-target="#hlma-408-premiers-pas-en-pythonpandas">HLMA 408: Premiers pas en <em>Python/Pandas</em></a>
  <ul class="collapse">
  <li><a href="#introduction-et-présentation" id="toc-introduction-et-présentation" class="nav-link" data-scroll-target="#introduction-et-présentation">Introduction et présentation</a>
  <ul class="collapse">
  <li><a href="#import-des-packages-usuels" id="toc-import-des-packages-usuels" class="nav-link" data-scroll-target="#import-des-packages-usuels">Import des packages usuels</a></li>
  <li><a href="#verifier-les-versions-des-packages-utilisées" id="toc-verifier-les-versions-des-packages-utilisées" class="nav-link" data-scroll-target="#verifier-les-versions-des-packages-utilisées">Verifier les versions des packages utilisées</a></li>
  <li><a href="#préparation-pour-laffichage-graphique-et-sauvegarder-les-images" id="toc-préparation-pour-laffichage-graphique-et-sauvegarder-les-images" class="nav-link" data-scroll-target="#préparation-pour-laffichage-graphique-et-sauvegarder-les-images">Préparation pour l’affichage graphique et sauvegarder les images</a></li>
  </ul></li>
  <li><a href="#description-des-données-grossesses-et-cigarettes-impact-sur-la-santé-du-nouveau-né" id="toc-description-des-données-grossesses-et-cigarettes-impact-sur-la-santé-du-nouveau-né" class="nav-link" data-scroll-target="#description-des-données-grossesses-et-cigarettes-impact-sur-la-santé-du-nouveau-né">Description des données: grossesses et cigarettes, impact sur la santé du nouveau-né</a>
  <ul class="collapse">
  <li><a href="#téléchargement-et-import-des-données" id="toc-téléchargement-et-import-des-données" class="nav-link" data-scroll-target="#téléchargement-et-import-des-données">Téléchargement et import des données</a></li>
  <li><a href="#options-de-pandas-pour-laffichage" id="toc-options-de-pandas-pour-laffichage" class="nav-link" data-scroll-target="#options-de-pandas-pour-laffichage">Options de <em>pandas</em> pour l’affichage</a></li>
  <li><a href="#lecture-de-la-base-de-données-et-constructions-dun-dataframe" id="toc-lecture-de-la-base-de-données-et-constructions-dun-dataframe" class="nav-link" data-scroll-target="#lecture-de-la-base-de-données-et-constructions-dun-dataframe">Lecture de la base de données et constructions d’un dataframe</a></li>
  <li><a href="#statistiques-descriptives-élémentaires" id="toc-statistiques-descriptives-élémentaires" class="nav-link" data-scroll-target="#statistiques-descriptives-élémentaires">Statistiques descriptives élémentaires</a></li>
  </ul></li>
  <li><a href="#pré-traitement-et-données-manquantes" id="toc-pré-traitement-et-données-manquantes" class="nav-link" data-scroll-target="#pré-traitement-et-données-manquantes">Pré-traitement et données manquantes</a>
  <ul class="collapse">
  <li><a href="#données-manquantes-nan-not-a-number" id="toc-données-manquantes-nan-not-a-number" class="nav-link" data-scroll-target="#données-manquantes-nan-not-a-number">Données manquantes / NaN (Not A Number)</a></li>
  <li><a href="#données-aberrantes" id="toc-données-aberrantes" class="nav-link" data-scroll-target="#données-aberrantes">Données aberrantes</a></li>
  <li><a href="#pré-traitement-unités-non-internationales-donnnées-manquantes" id="toc-pré-traitement-unités-non-internationales-donnnées-manquantes" class="nav-link" data-scroll-target="#pré-traitement-unités-non-internationales-donnnées-manquantes">Pré-traitement: unités non internationales, donnnées manquantes</a></li>
  </ul></li>
  <li><a href="#visualisation" id="toc-visualisation" class="nav-link" data-scroll-target="#visualisation">Visualisation</a>
  <ul class="collapse">
  <li><a href="#densité-et-estimation-de-densité" id="toc-densité-et-estimation-de-densité" class="nav-link" data-scroll-target="#densité-et-estimation-de-densité">Densité et estimation de densité</a></li>
  </ul></li>
  <li><a href="#exercice-estimation-de-la-densité-kde-par-genre" id="toc-exercice-estimation-de-la-densité-kde-par-genre" class="nav-link" data-scroll-target="#exercice-estimation-de-la-densité-kde-par-genre"><font color="red"> EXERCICE : Estimation de la densité (KDE) par genre </font></a>
  <ul class="collapse">
  <li><a href="#estimation-de-la-densité-par-histogramme" id="toc-estimation-de-la-densité-par-histogramme" class="nav-link" data-scroll-target="#estimation-de-la-densité-par-histogramme">Estimation de la densité par histogramme</a></li>
  <li><a href="#estimation-de-la-densité-par-une-méthode-à-noyaux" id="toc-estimation-de-la-densité-par-une-méthode-à-noyaux" class="nav-link" data-scroll-target="#estimation-de-la-densité-par-une-méthode-à-noyaux">Estimation de la densité par une méthode à noyaux</a></li>
  <li><a href="#explication-visuelle-du-fonctionnement-des-méthodes-à-noyaux" id="toc-explication-visuelle-du-fonctionnement-des-méthodes-à-noyaux" class="nav-link" data-scroll-target="#explication-visuelle-du-fonctionnement-des-méthodes-à-noyaux">Explication visuelle du fonctionnement des méthodes à noyaux</a></li>
  <li><a href="#affichage-et-coefficient-alpha" id="toc-affichage-et-coefficient-alpha" class="nav-link" data-scroll-target="#affichage-et-coefficient-alpha">Affichage et coefficient alpha</a></li>
  <li><a href="#synthèse-de-léchantillon" id="toc-synthèse-de-léchantillon" class="nav-link" data-scroll-target="#synthèse-de-léchantillon">Synthèse de l’échantillon</a></li>
  <li><a href="#autres-densités-unidimensionnelles" id="toc-autres-densités-unidimensionnelles" class="nav-link" data-scroll-target="#autres-densités-unidimensionnelles">Autres densités unidimensionnelles</a></li>
  </ul></li>
  <li><a href="#exercice-taille-des-parents" id="toc-exercice-taille-des-parents" class="nav-link" data-scroll-target="#exercice-taille-des-parents"><font color="red"> EXERCICE : Taille des parents </font></a></li>
  <li><a href="#densité-bi-dimensionnelle-le-code-est-hors-programme-pour-la-densité-bi-dimensionnelle" id="toc-densité-bi-dimensionnelle-le-code-est-hors-programme-pour-la-densité-bi-dimensionnelle" class="nav-link" data-scroll-target="#densité-bi-dimensionnelle-le-code-est-hors-programme-pour-la-densité-bi-dimensionnelle">Densité bi-dimensionnelle (le code est hors programme pour la densité bi-dimensionnelle)</a></li>
  </ul></li>
  <li><a href="#statistiques-descriptives" id="toc-statistiques-descriptives" class="nav-link" data-scroll-target="#statistiques-descriptives">Statistiques descriptives</a>
  <ul class="collapse">
  <li><a href="#estimateur-de-position-ou-de-centrage" id="toc-estimateur-de-position-ou-de-centrage" class="nav-link" data-scroll-target="#estimateur-de-position-ou-de-centrage">Estimateur de position (ou de centrage)</a>
  <ul class="collapse">
  <li><a href="#la-moyenne-empirique" id="toc-la-moyenne-empirique" class="nav-link" data-scroll-target="#la-moyenne-empirique">La moyenne (empirique)</a></li>
  <li><a href="#la-médiane-empirique" id="toc-la-médiane-empirique" class="nav-link" data-scroll-target="#la-médiane-empirique">La médiane (empirique)</a></li>
  <li><a href="#la-moyenne-tronquée-au-niveau-alpha_trim" id="toc-la-moyenne-tronquée-au-niveau-alpha_trim" class="nav-link" data-scroll-target="#la-moyenne-tronquée-au-niveau-alpha_trim">La moyenne tronquée (au niveau <span class="math inline">\alpha_{trim}</span>)</a></li>
  <li><a href="#la-moyenne-géométrique" id="toc-la-moyenne-géométrique" class="nav-link" data-scroll-target="#la-moyenne-géométrique">La moyenne géométrique</a></li>
  <li><a href="#la-moyenne-harmonique" id="toc-la-moyenne-harmonique" class="nav-link" data-scroll-target="#la-moyenne-harmonique">La moyenne harmonique</a></li>
  <li><a href="#comparatif-des-statistiques-de-centrages-ou-de-position" id="toc-comparatif-des-statistiques-de-centrages-ou-de-position" class="nav-link" data-scroll-target="#comparatif-des-statistiques-de-centrages-ou-de-position">Comparatif des statistiques de centrages (ou de position)</a></li>
  </ul></li>
  <li><a href="#estimateurs-de-dispersion" id="toc-estimateurs-de-dispersion" class="nav-link" data-scroll-target="#estimateurs-de-dispersion">Estimateurs de dispersion</a>
  <ul class="collapse">
  <li><a href="#lécart-type-empirique" id="toc-lécart-type-empirique" class="nav-link" data-scroll-target="#lécart-type-empirique">L’écart-type (empirique)</a></li>
  <li><a href="#la-médiane-des-déviations-absolues" id="toc-la-médiane-des-déviations-absolues" class="nav-link" data-scroll-target="#la-médiane-des-déviations-absolues">La médiane des déviations absolues</a></li>
  </ul></li>
  <li><a href="#fonction-de-répartition-empirique" id="toc-fonction-de-répartition-empirique" class="nav-link" data-scroll-target="#fonction-de-répartition-empirique">Fonction de répartition (empirique)</a>
  <ul class="collapse">
  <li><a href="#exercice-quelle-est-la-taille-des-sauts" id="toc-exercice-quelle-est-la-taille-des-sauts" class="nav-link" data-scroll-target="#exercice-quelle-est-la-taille-des-sauts"><font color="red"> EXERCICE : Quelle est la taille des sauts? </font></a></li>
  </ul></li>
  <li><a href="#quantiles-empiriques" id="toc-quantiles-empiriques" class="nav-link" data-scroll-target="#quantiles-empiriques">Quantiles (empiriques)</a></li>
  <li><a href="#visualisation-niveau-2" id="toc-visualisation-niveau-2" class="nav-link" data-scroll-target="#visualisation-niveau-2">Visualisation (niveau 2)</a>
  <ul class="collapse">
  <li><a href="#boxplots-boîte-à-moustache" id="toc-boxplots-boîte-à-moustache" class="nav-link" data-scroll-target="#boxplots-boîte-à-moustache">Boxplots / Boîte à moustache</a></li>
  <li><a href="#violons" id="toc-violons" class="nav-link" data-scroll-target="#violons">Violons</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#nouvelle-base-de-données-expérience-sur-les-poussins" id="toc-nouvelle-base-de-données-expérience-sur-les-poussins" class="nav-link" data-scroll-target="#nouvelle-base-de-données-expérience-sur-les-poussins">Nouvelle base de données : expérience sur les poussins</a>
  <ul class="collapse">
  <li><a href="#violons-avancés" id="toc-violons-avancés" class="nav-link" data-scroll-target="#violons-avancés">Violons avancés</a></li>
  <li><a href="#groupement-en-groupby" id="toc-groupement-en-groupby" class="nav-link" data-scroll-target="#groupement-en-groupby">Groupement (en: Groupby)</a></li>
  <li><a href="#classes-déséquilibrées-et-conclusions-hâtives" id="toc-classes-déséquilibrées-et-conclusions-hâtives" class="nav-link" data-scroll-target="#classes-déséquilibrées-et-conclusions-hâtives">Classes déséquilibrées et conclusions hâtives</a></li>
  <li><a href="#corrélations" id="toc-corrélations" class="nav-link" data-scroll-target="#corrélations">Corrélations</a></li>
  <li><a href="#plus-de-conseils-en-pandas-en-anglais" id="toc-plus-de-conseils-en-pandas-en-anglais" class="nav-link" data-scroll-target="#plus-de-conseils-en-pandas-en-anglais">Plus de conseils en <em>Pandas</em> (en anglais):</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="hlma-408-premiers-pas-en-pythonpandas" class="level1">
<h1>HLMA 408: Premiers pas en <em>Python/Pandas</em></h1>
<hr>
<blockquote class="blockquote">
<p><strong>Auteur</strong>: Joseph Salmon <a href="mailto:joseph.salmon@umontpellier.fr" class="email" target="_blank">joseph.salmon@umontpellier.fr</a></p>
</blockquote>
<section id="introduction-et-présentation" class="level2">
<h2 class="anchored" data-anchor-id="introduction-et-présentation">Introduction et présentation</h2>
<section id="import-des-packages-usuels" class="level3">
<h3 class="anchored" data-anchor-id="import-des-packages-usuels">Import des packages usuels</h3>
<div id="cell-3" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> platform</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> norm, gmean, hmean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="verifier-les-versions-des-packages-utilisées" class="level3">
<h3 class="anchored" data-anchor-id="verifier-les-versions-des-packages-utilisées">Verifier les versions des packages utilisées</h3>
<div id="cell-5" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'The python version is'</span>, platform.python_version())</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'numpy </span><span class="sc">{}</span><span class="st">.'</span>.<span class="bu">format</span>(np.__version__))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The python version is 3.8.5
numpy 1.19.2.</code></pre>
</div>
</div>
</section>
<section id="préparation-pour-laffichage-graphique-et-sauvegarder-les-images" class="level3">
<h3 class="anchored" data-anchor-id="préparation-pour-laffichage-graphique-et-sauvegarder-les-images">Préparation pour l’affichage graphique et sauvegarder les images</h3>
<p>La cellule qui suit est inutile en première lecture</p>
<div id="cell-7" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>Eleve <span class="op">=</span> <span class="va">True</span>  <span class="co"># à changer en True pour un étudiant</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> Eleve:</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">%</span>matplotlib widget</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    saving <span class="op">=</span> <span class="va">True</span>  <span class="co"># Sauvegarde</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">%</span>pip install download  <span class="co"># installe le package download</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    saving <span class="op">=</span> <span class="va">False</span>  <span class="co"># Sauvegarde</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>dirname <span class="op">=</span> <span class="st">"../prebuiltimages/"</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>imageformat <span class="op">=</span> <span class="st">".pdf"</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co"># saving tools for the course:</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>sns.set_context(<span class="st">"paper"</span>, font_scale<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>sns.set_style(<span class="st">"ticks"</span>)</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>sns.set_palette(<span class="st">"colorblind"</span>)</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="co"># avoid warning when too many plots are opened</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>plt.rcParams.update({<span class="st">'figure.max_open_warning'</span>: <span class="dv">50</span>})</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="co"># colors</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>brown <span class="op">=</span> (<span class="fl">0.64</span>, <span class="fl">0.16</span>, <span class="fl">0.16</span>)</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>purple <span class="op">=</span> (<span class="fl">148.</span> <span class="op">/</span> <span class="dv">255</span>, <span class="dv">0</span>, <span class="fl">211.</span> <span class="op">/</span> <span class="dv">255</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Requirement already satisfied: download in /home/jo/anaconda3/lib/python3.8/site-packages (0.3.5)
Requirement already satisfied: requests in /home/jo/anaconda3/lib/python3.8/site-packages (from download) (2.24.0)
Requirement already satisfied: six in /home/jo/anaconda3/lib/python3.8/site-packages (from download) (1.15.0)
Requirement already satisfied: tqdm in /home/jo/anaconda3/lib/python3.8/site-packages (from download) (4.50.2)
Requirement already satisfied: certifi&gt;=2017.4.17 in /home/jo/anaconda3/lib/python3.8/site-packages (from requests-&gt;download) (2020.6.20)
Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,&lt;1.26,&gt;=1.21.1 in /home/jo/anaconda3/lib/python3.8/site-packages (from requests-&gt;download) (1.25.11)
Requirement already satisfied: chardet&lt;4,&gt;=3.0.2 in /home/jo/anaconda3/lib/python3.8/site-packages (from requests-&gt;download) (3.0.4)
Requirement already satisfied: idna&lt;3,&gt;=2.5 in /home/jo/anaconda3/lib/python3.8/site-packages (from requests-&gt;download) (2.10)
Note: you may need to restart the kernel to use updated packages.</code></pre>
</div>
</div>
</section>
</section>
<section id="description-des-données-grossesses-et-cigarettes-impact-sur-la-santé-du-nouveau-né" class="level2">
<h2 class="anchored" data-anchor-id="description-des-données-grossesses-et-cigarettes-impact-sur-la-santé-du-nouveau-né">Description des données: grossesses et cigarettes, impact sur la santé du nouveau-né</h2>
<p>Description des données:</p>
<p>“This dataset is available at http://www.stat.berkeley.edu/users/statlabs/labs.html. It accompanies the excellent text Stat Labs: Mathematical Statistics through Applications Springer-Verlag (2001) by Deborah Nolan and Terry Speed.”</p>
<p>Plus de détails: https://www.stat.berkeley.edu/users/statlabs/papers/sample.pdf (notamment sur les biais de collecte des données…)</p>
<section id="téléchargement-et-import-des-données" class="level3">
<h3 class="anchored" data-anchor-id="téléchargement-et-import-des-données">Téléchargement et import des données</h3>
<p>Passer si besoin cette partie en première lecture: télécharger dans ce cas les fichiers <code>utils.py</code> et <code>babies23.data</code> manuellement et mettez les dans votre répertoire local où se trouve le notebook.</p>
<div id="cell-10" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pip install download</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-11" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># si download n'est pas installé décommenter + exécuter la ligne du dessus</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> utils <span class="im">import</span> my_saving_display</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> download <span class="im">import</span> download</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>path_target <span class="op">=</span> <span class="st">"./utils.py"</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>url_shared_files <span class="op">=</span> <span class="st">"http://josephsalmon.eu/enseignement/Montpellier/HLMA408/sharedcode/utils.py"</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>download(url_shared_files, path_target, replace<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Replace is False and data exists, so doing nothing. Use replace=True to re-download the data.</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>'./utils.py'</code></pre>
</div>
</div>
<div id="cell-12" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"http://josephsalmon.eu/enseignement/datasets/babies23.data"</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># url = "http://www.stat.berkeley.edu/users/statlabs/data/babies23.data" # backup url, without header.</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>path_target <span class="op">=</span> <span class="st">"./babies23.data"</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>download(url, path_target, replace<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Replace is False and data exists, so doing nothing. Use replace=True to re-download the data.</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>'./babies23.data'</code></pre>
</div>
</div>
</section>
<section id="options-de-pandas-pour-laffichage" class="level3">
<h3 class="anchored" data-anchor-id="options-de-pandas-pour-laffichage">Options de <em>pandas</em> pour l’affichage</h3>
<div id="cell-14" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Preoprocessing: only run once or big trouble (think about it!)</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>is_preprocessing_done <span class="op">=</span> <span class="dv">0</span>  <span class="co"># init at 0,if greater don't redo it</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>pd.options.display.max_rows <span class="op">=</span> <span class="dv">10</span>  <span class="co"># set not to display to many lines in pandas</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">'precision'</span>, <span class="dv">3</span>)  <span class="co"># set to display number at precision 0 in pandas</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lecture-de-la-base-de-données-et-constructions-dun-dataframe" class="level3">
<h3 class="anchored" data-anchor-id="lecture-de-la-base-de-données-et-constructions-dun-dataframe">Lecture de la base de données et constructions d’un dataframe</h3>
<p>Il faut maintenant avoir les données en local soit en les téléchargeant avec <code>download</code> soit “à la main” ici: http://josephsalmon.eu/enseignement/datasets/babies23.data</p>
<div id="cell-16" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ?pd.read_csv  # décommenter pour obtenir de l'aide sur la fonction read_csv de pandas.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-17" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Le fichier peut être téléchargé ici:</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># http://josephsalmon.eu/enseignement/datasets/babies23.data</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co"># il faut alors le mettre dans votre repertoire local où se trouve votre notebook.</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>df_babies <span class="op">=</span> pd.read_csv(<span class="st">"babies23.data"</span>, skiprows<span class="op">=</span><span class="dv">38</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>                        sep<span class="op">=</span><span class="st">'\s+'</span>)  <span class="co"># \s+ : for hanlding spaces</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>df_babies.head(n<span class="op">=</span><span class="dv">10</span>)  <span class="co"># df stands for Data Frame</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">id</th>
<th data-quarto-table-cell-role="th">pluralty</th>
<th data-quarto-table-cell-role="th">outcome</th>
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th">gestation</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">wt</th>
<th data-quarto-table-cell-role="th">parity</th>
<th data-quarto-table-cell-role="th">race</th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">drace</th>
<th data-quarto-table-cell-role="th">dage</th>
<th data-quarto-table-cell-role="th">ded</th>
<th data-quarto-table-cell-role="th">dht</th>
<th data-quarto-table-cell-role="th">dwt</th>
<th data-quarto-table-cell-role="th">marital</th>
<th data-quarto-table-cell-role="th">inc</th>
<th data-quarto-table-cell-role="th">smoke</th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>15</td>
<td>5</td>
<td>1</td>
<td>1411</td>
<td>284</td>
<td>1</td>
<td>120</td>
<td>1</td>
<td>8</td>
<td>27</td>
<td>...</td>
<td>8</td>
<td>31</td>
<td>5</td>
<td>65</td>
<td>110</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>20</td>
<td>5</td>
<td>1</td>
<td>1499</td>
<td>282</td>
<td>1</td>
<td>113</td>
<td>2</td>
<td>0</td>
<td>33</td>
<td>...</td>
<td>0</td>
<td>38</td>
<td>5</td>
<td>70</td>
<td>148</td>
<td>1</td>
<td>4</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>58</td>
<td>5</td>
<td>1</td>
<td>1576</td>
<td>279</td>
<td>1</td>
<td>128</td>
<td>1</td>
<td>0</td>
<td>28</td>
<td>...</td>
<td>5</td>
<td>32</td>
<td>1</td>
<td>99</td>
<td>999</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>61</td>
<td>5</td>
<td>1</td>
<td>1504</td>
<td>999</td>
<td>1</td>
<td>123</td>
<td>2</td>
<td>0</td>
<td>36</td>
<td>...</td>
<td>3</td>
<td>43</td>
<td>4</td>
<td>68</td>
<td>197</td>
<td>1</td>
<td>8</td>
<td>3</td>
<td>5</td>
<td>5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>72</td>
<td>5</td>
<td>1</td>
<td>1425</td>
<td>282</td>
<td>1</td>
<td>108</td>
<td>1</td>
<td>0</td>
<td>23</td>
<td>...</td>
<td>0</td>
<td>24</td>
<td>5</td>
<td>99</td>
<td>999</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>100</td>
<td>5</td>
<td>1</td>
<td>1673</td>
<td>286</td>
<td>1</td>
<td>136</td>
<td>4</td>
<td>0</td>
<td>25</td>
<td>...</td>
<td>3</td>
<td>28</td>
<td>2</td>
<td>64</td>
<td>130</td>
<td>1</td>
<td>4</td>
<td>2</td>
<td>2</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>102</td>
<td>5</td>
<td>1</td>
<td>1449</td>
<td>244</td>
<td>1</td>
<td>138</td>
<td>4</td>
<td>7</td>
<td>33</td>
<td>...</td>
<td>7</td>
<td>37</td>
<td>4</td>
<td>99</td>
<td>999</td>
<td>1</td>
<td>98</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>129</td>
<td>5</td>
<td>1</td>
<td>1562</td>
<td>245</td>
<td>1</td>
<td>132</td>
<td>2</td>
<td>7</td>
<td>23</td>
<td>...</td>
<td>7</td>
<td>23</td>
<td>4</td>
<td>71</td>
<td>192</td>
<td>1</td>
<td>2</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>142</td>
<td>5</td>
<td>1</td>
<td>1408</td>
<td>289</td>
<td>1</td>
<td>120</td>
<td>3</td>
<td>0</td>
<td>25</td>
<td>...</td>
<td>3</td>
<td>26</td>
<td>1</td>
<td>70</td>
<td>180</td>
<td>0</td>
<td>2</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>148</td>
<td>5</td>
<td>1</td>
<td>1568</td>
<td>299</td>
<td>1</td>
<td>143</td>
<td>3</td>
<td>0</td>
<td>30</td>
<td>...</td>
<td>0</td>
<td>34</td>
<td>5</td>
<td>99</td>
<td>999</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>1</td>
<td>4</td>
</tr>
</tbody>
</table>

<p>10 rows × 23 columns</p>
</div>
</div>
</div>
</div>
</section>
<section id="statistiques-descriptives-élémentaires" class="level3">
<h3 class="anchored" data-anchor-id="statistiques-descriptives-élémentaires">Statistiques descriptives élémentaires</h3>
<div id="cell-19" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df_babies.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">id</th>
<th data-quarto-table-cell-role="th">pluralty</th>
<th data-quarto-table-cell-role="th">outcome</th>
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th">gestation</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">wt</th>
<th data-quarto-table-cell-role="th">parity</th>
<th data-quarto-table-cell-role="th">race</th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">drace</th>
<th data-quarto-table-cell-role="th">dage</th>
<th data-quarto-table-cell-role="th">ded</th>
<th data-quarto-table-cell-role="th">dht</th>
<th data-quarto-table-cell-role="th">dwt</th>
<th data-quarto-table-cell-role="th">marital</th>
<th data-quarto-table-cell-role="th">inc</th>
<th data-quarto-table-cell-role="th">smoke</th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>1236.000</td>
<td>1236.0</td>
<td>1236.0</td>
<td>1236.000</td>
<td>1236.000</td>
<td>1236.0</td>
<td>1236.000</td>
<td>1236.000</td>
<td>1236.000</td>
<td>1236.000</td>
<td>...</td>
<td>1236.000</td>
<td>1236.000</td>
<td>1236.000</td>
<td>1236.000</td>
<td>1236.000</td>
<td>1236.000</td>
<td>1236.000</td>
<td>1236.000</td>
<td>1236.000</td>
<td>1236.000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>6000.836</td>
<td>5.0</td>
<td>1.0</td>
<td>1535.837</td>
<td>286.908</td>
<td>1.0</td>
<td>119.577</td>
<td>1.932</td>
<td>3.206</td>
<td>27.371</td>
<td>...</td>
<td>3.665</td>
<td>30.737</td>
<td>3.189</td>
<td>81.667</td>
<td>505.401</td>
<td>1.038</td>
<td>13.161</td>
<td>0.868</td>
<td>1.748</td>
<td>2.604</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>2257.289</td>
<td>0.0</td>
<td>0.0</td>
<td>106.895</td>
<td>75.157</td>
<td>0.0</td>
<td>18.236</td>
<td>1.933</td>
<td>4.187</td>
<td>6.457</td>
<td>...</td>
<td>6.840</td>
<td>8.522</td>
<td>1.702</td>
<td>14.278</td>
<td>406.686</td>
<td>0.326</td>
<td>28.424</td>
<td>1.163</td>
<td>8.824</td>
<td>8.890</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>15.000</td>
<td>5.0</td>
<td>1.0</td>
<td>1350.000</td>
<td>148.000</td>
<td>1.0</td>
<td>55.000</td>
<td>0.000</td>
<td>0.000</td>
<td>15.000</td>
<td>...</td>
<td>0.000</td>
<td>18.000</td>
<td>0.000</td>
<td>60.000</td>
<td>110.000</td>
<td>0.000</td>
<td>0.000</td>
<td>0.000</td>
<td>0.000</td>
<td>0.000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>5286.250</td>
<td>5.0</td>
<td>1.0</td>
<td>1444.000</td>
<td>272.000</td>
<td>1.0</td>
<td>108.750</td>
<td>0.000</td>
<td>0.000</td>
<td>23.000</td>
<td>...</td>
<td>0.000</td>
<td>25.000</td>
<td>2.000</td>
<td>70.000</td>
<td>165.000</td>
<td>1.000</td>
<td>2.000</td>
<td>0.000</td>
<td>0.000</td>
<td>0.000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>6729.500</td>
<td>5.0</td>
<td>1.0</td>
<td>1539.500</td>
<td>280.000</td>
<td>1.0</td>
<td>120.000</td>
<td>1.000</td>
<td>3.000</td>
<td>26.000</td>
<td>...</td>
<td>3.000</td>
<td>29.000</td>
<td>4.000</td>
<td>73.000</td>
<td>190.000</td>
<td>1.000</td>
<td>4.000</td>
<td>1.000</td>
<td>1.000</td>
<td>1.000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>7583.250</td>
<td>5.0</td>
<td>1.0</td>
<td>1627.000</td>
<td>288.000</td>
<td>1.0</td>
<td>131.000</td>
<td>3.000</td>
<td>7.000</td>
<td>31.000</td>
<td>...</td>
<td>7.000</td>
<td>35.000</td>
<td>5.000</td>
<td>99.000</td>
<td>999.000</td>
<td>1.000</td>
<td>7.000</td>
<td>1.000</td>
<td>1.000</td>
<td>3.000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>9263.000</td>
<td>5.0</td>
<td>1.0</td>
<td>1714.000</td>
<td>999.000</td>
<td>1.0</td>
<td>176.000</td>
<td>13.000</td>
<td>99.000</td>
<td>99.000</td>
<td>...</td>
<td>99.000</td>
<td>99.000</td>
<td>9.000</td>
<td>99.000</td>
<td>999.000</td>
<td>5.000</td>
<td>98.000</td>
<td>9.000</td>
<td>99.000</td>
<td>98.000</td>
</tr>
</tbody>
</table>

<p>8 rows × 23 columns</p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="pré-traitement-et-données-manquantes" class="level2">
<h2 class="anchored" data-anchor-id="pré-traitement-et-données-manquantes">Pré-traitement et données manquantes</h2>
<section id="données-manquantes-nan-not-a-number" class="level3">
<h3 class="anchored" data-anchor-id="données-manquantes-nan-not-a-number">Données manquantes / NaN (Not A Number)</h3>
<div id="cell-22" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>(df_babies.isnull().<span class="bu">any</span>())  <span class="co"># données manquantes?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>id           False
pluralty     False
outcome      False
date         False
gestation    False
             ...  
marital      False
inc          False
smoke        False
time         False
number       False
Length: 23, dtype: bool</code></pre>
</div>
</div>
<div id="cell-24" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">5</span>))</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.kdeplot(df_babies[<span class="st">'gestation'</span>], shade<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Durée de la grossesse (en jours)'</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Proportion'</span>)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Estimation de la densité de la durée de la grossesse"</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="StatDescriptives_files/figure-html/cell-14-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="données-aberrantes" class="level3">
<h3 class="anchored" data-anchor-id="données-aberrantes">Données aberrantes</h3>
<p>Bizarre bizarre des grossesses qui durent 1000 jours, mais que se passe-t-il ici?</p>
<div id="cell-26" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>percentage_na <span class="op">=</span> np.<span class="bu">sum</span>(df_babies[<span class="st">'gestation'</span>]</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>                       <span class="op">==</span> <span class="dv">999</span>) <span class="op">/</span> df_babies[<span class="st">'gestation'</span>].count() <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Il y a </span><span class="sc">{0:.2f}% d</span><span class="st">es grossesses de la base de donnée qui durent 999 jours..."</span>.<span class="bu">format</span>(</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    percentage_na))  <span class="co"># {0:.2f} use to display only 2 digits after the sign "." </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Il y a 1.05% des grossesses de la base de donnée qui durent 999 jours...</code></pre>
</div>
</div>
</section>
<section id="pré-traitement-unités-non-internationales-donnnées-manquantes" class="level3">
<h3 class="anchored" data-anchor-id="pré-traitement-unités-non-internationales-donnnées-manquantes">Pré-traitement: unités non internationales, donnnées manquantes</h3>
<p>Lire l’entête du fichier permet de comprendre les problèmes… les unités, les données manquantes, etc. Il faut donc toujours lire les descriptifs des données <strong>AVANT</strong> de les analyser.</p>
<div id="cell-28" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> is_preprocessing_done <span class="op">&lt;</span> <span class="dv">1</span>:</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"You have to do the pre-processing only once, to avoid unit issues"</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Handle missing values (see header of babies23.data for details)</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Unknown gestation duration</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    df_babies[<span class="st">'gestation'</span>].replace(<span class="dv">999</span>, np.nan, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Unknown smoking status of the mother</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    df_babies[<span class="st">'smoke'</span>].replace(<span class="dv">9</span>, np.nan, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Mother's height</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    df_babies[<span class="st">'ht'</span>].replace(<span class="dv">99</span>, np.nan, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Father's height</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    df_babies[<span class="st">'dht'</span>].replace(<span class="dv">99</span>, np.nan, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Father's weight</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>    df_babies[<span class="st">'dwt'</span>].replace(<span class="dv">999</span>, np.nan, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Mother's weight</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    df_babies[<span class="st">'wt.1'</span>].replace(<span class="dv">999</span>, np.nan, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Baby's weight</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    df_babies[<span class="st">'wt'</span>].replace(<span class="dv">999</span>, np.nan, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Tabaco consumption</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    df_babies[<span class="st">'number'</span>].replace(</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>        [<span class="dv">9</span>, <span class="dv">98</span>, <span class="dv">99</span>], [np.nan, np.nan, np.nan], inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove all missing values</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>    df_babies.dropna(inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># US researchers use stupid non international units...</span></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>    df_babies[<span class="st">'wt'</span>] <span class="op">=</span> df_babies[<span class="st">'wt'</span>] <span class="op">*</span> <span class="fl">0.0283495</span>  <span class="co"># onces -&gt; kg</span></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>    df_babies[<span class="st">'wt.1'</span>] <span class="op">=</span> df_babies[<span class="st">'wt.1'</span>] <span class="op">*</span> <span class="fl">0.453592</span>  <span class="co"># pounds -&gt; kg</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>    df_babies[<span class="st">'dwt'</span>] <span class="op">=</span> df_babies[<span class="st">'dwt'</span>] <span class="op">*</span> <span class="fl">0.453592</span>  <span class="co"># pounds -&gt; kg</span></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>    df_babies[<span class="st">'ht'</span>] <span class="op">=</span> df_babies[<span class="st">'ht'</span>] <span class="op">*</span> <span class="fl">2.54</span>  <span class="co"># inches -&gt; cm</span></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>    df_babies[<span class="st">'dht'</span>] <span class="op">=</span> df_babies[<span class="st">'dht'</span>] <span class="op">*</span> <span class="fl">2.54</span>  <span class="co"># inches -&gt; cm</span></span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Tabaco consumption: change irrelevant numbers by relevant numbers</span></span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>    df_babies[<span class="st">'number'</span>].replace([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, ],</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>                                [<span class="fl">2.5</span>, <span class="dv">7</span>, <span class="dv">12</span>, <span class="dv">17</span>, <span class="fl">24.5</span>, <span class="fl">34.5</span>, <span class="dv">50</span>, <span class="dv">70</span>], inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"This is done only because </span><span class="sc">{}</span><span class="st"> &lt; 1"</span>.<span class="bu">format</span>(is_preprocessing_done))</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>    is_preprocessing_done <span class="op">+=</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>You have to do the pre-processing only once, to avoid unit issues
This is done only because 0 &lt; 1</code></pre>
</div>
</div>
</section>
</section>
<section id="visualisation" class="level2">
<h2 class="anchored" data-anchor-id="visualisation">Visualisation</h2>
<section id="densité-et-estimation-de-densité" class="level3">
<h3 class="anchored" data-anchor-id="densité-et-estimation-de-densité">Densité et estimation de densité</h3>
<div id="cell-31" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">5</span>))</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.kdeplot(df_babies[<span class="st">'gestation'</span>], shade<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Durée de la grossesse (en jours)'</span>)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Proportion'</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>plt.axvline(<span class="dv">40</span> <span class="op">*</span> <span class="dv">7</span>, c<span class="op">=</span><span class="st">'k'</span>)  <span class="co"># vertical bar at 40 weeks</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Estimation de la densité de la durée de la grossesse"</span>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="co"># print("Il y a maintenant {} valeur(s) manquante(s).".format(sum(df_babies["gestation"].isnull())))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>Text(0.5, 1.0, 'Estimation de la densité de la durée de la grossesse')</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="StatDescriptives_files/figure-html/cell-17-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-32" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>np.quantile(df_babies[<span class="st">'gestation'</span>],np.linspace(<span class="fl">0.05</span>,<span class="fl">0.95</span>,num<span class="op">=</span><span class="dv">19</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>array([250. , 262.4, 267. , 270. , 272. , 274. , 275. , 277. , 278. ,
       280. , 282. , 283. , 284. , 286. , 288. , 290. , 292. , 295. ,
       302. ])</code></pre>
</div>
</div>
<div id="cell-33" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">'precision'</span>, <span class="dv">3</span>)  <span class="co"># display 3 digits now in pandas</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-34" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>df_babies[<span class="st">'dwt'</span>]  <span class="co"># father pre-pregnancy weight in kg</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>0       49.895
1       67.132
5       58.967
7       87.090
8       81.647
         ...  
1231    86.182
1232    77.111
1233    81.647
1234    74.843
1235    78.018
Name: dwt, Length: 695, dtype: float64</code></pre>
</div>
</div>
<div id="cell-35" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>df_babies[<span class="st">'wt.1'</span>]  <span class="co"># mother weight in kg</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>0       45.359
1       61.235
5       42.184
7       63.503
8       56.699
         ...  
1231    45.359
1232    54.431
1233    68.039
1234    49.895
1235    58.513
Name: wt.1, Length: 695, dtype: float64</code></pre>
</div>
</div>
<div id="cell-36" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>df_babies[<span class="st">'wt'</span>]  <span class="co"># babies weight in kg</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>0       3.402
1       3.203
5       3.856
7       3.742
8       3.402
        ...  
1231    3.203
1232    3.629
1233    3.685
1234    3.544
1235    3.317
Name: wt, Length: 695, dtype: float64</code></pre>
</div>
</div>
<div id="cell-37" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>df_babies[<span class="st">'wt'</span>].<span class="bu">max</span>(), df_babies[<span class="st">'wt'</span>].<span class="bu">min</span>()  <span class="co"># max and min weight at birth</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>(4.9895119999999995, 1.5592225)</code></pre>
</div>
</div>
</section>
</section>
<section id="exercice-estimation-de-la-densité-kde-par-genre" class="level2">
<h2 class="anchored" data-anchor-id="exercice-estimation-de-la-densité-kde-par-genre"><font color="red"> EXERCICE : Estimation de la densité (KDE) par genre </font></h2>
<p>Afficher la masse des parents et visualiser les différences?</p>
<div id="cell-39" class="cell" data-hide_input="false" data-scrolled="true" data-execution_count="22">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># XXX todo</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-40" class="cell" data-hide_input="false" data-scrolled="true" data-execution_count="23">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Réponse:</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">3</span>, <span class="dv">3</span>))</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="vs">r"Masse des parents (densité)"</span>)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>sns.kdeplot(df_babies[<span class="st">'dwt'</span>], label<span class="op">=</span><span class="st">"Père"</span>, shade<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>sns.kdeplot(df_babies[<span class="st">'wt.1'</span>], label<span class="op">=</span><span class="st">"Mère"</span>, shade<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Masse (kg)"</span>)</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Proportion"</span>)</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="StatDescriptives_files/figure-html/cell-25-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<section id="estimation-de-la-densité-par-histogramme" class="level3">
<h3 class="anchored" data-anchor-id="estimation-de-la-densité-par-histogramme">Estimation de la densité par histogramme</h3>
<div id="cell-42" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>fig_hist_height <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">4</span>))</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>plt.hist(df_babies[<span class="st">'ht'</span>], density<span class="op">=</span><span class="va">True</span>, bins<span class="op">=</span><span class="dv">19</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Taille de la mère (en cm)'</span>)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Proportion'</span>)</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Histogramme de la taille des mères"</span>)</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig_hist_height, dirname,</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"hist_height_mother"</span>, imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="StatDescriptives_files/figure-html/cell-26-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Remarque</strong>: pour des données continues, et avec un large échantillon, il semble plus raisonnable d’utiliser les méthodes à noyaux (kde) proposées ci-dessous. Le rendu est plus fidèle à la réalité sous-jacentes. Pour cela on peut regarder ci-dessous l’information proposée par une méthode à noyaux sur les mêmes données.</p>
</section>
<section id="estimation-de-la-densité-par-une-méthode-à-noyaux" class="level3">
<h3 class="anchored" data-anchor-id="estimation-de-la-densité-par-une-méthode-à-noyaux">Estimation de la densité par une méthode à noyaux</h3>
<div id="cell-45" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>fig_hist_height <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">4</span>))</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.kdeplot(df_babies[<span class="st">'ht'</span>], shade<span class="op">=</span><span class="va">True</span>)  <span class="co"># kde = Kernel Density Estimate</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Taille de la mère (en cm)'</span>)</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Proportion'</span>)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Densité de la taille des mères"</span>)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig_hist_height, dirname,</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"kde_height_mother"</span>, imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="StatDescriptives_files/figure-html/cell-27-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="explication-visuelle-du-fonctionnement-des-méthodes-à-noyaux" class="level3">
<h3 class="anchored" data-anchor-id="explication-visuelle-du-fonctionnement-des-méthodes-à-noyaux">Explication visuelle du fonctionnement des méthodes à noyaux</h3>
<p>Voici ci-dessous une explication visuelle du fonctionnement des méthodes à noyaux. Il est à noter que les histogrammes font partie de la même famille, mais au lieu “d’empiler” des densités continues (gaussiennes ici), on empile des densités constantes par morceaux!</p>
<div id="cell-47" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>n_samples <span class="op">=</span> df_babies[<span class="st">'ht'</span>].count()  <span class="co"># put 10 to visualize better</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="co"># n_samples = 100  # put 10 to visualize better</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>sample <span class="op">=</span> df_babies[<span class="st">'ht'</span>].iloc[<span class="dv">0</span>:n_samples]</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> <span class="fl">0.15</span> <span class="op">*</span> np.random.randn(n_samples,)</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>bandwidth <span class="op">=</span> <span class="fl">1.5</span>  <span class="co"># KDE parameter / bandwidth</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(sample.<span class="bu">min</span>(), sample.<span class="bu">max</span>(), num<span class="op">=</span><span class="dv">200</span>)</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> np.zeros(<span class="dv">200</span>)</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">3</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a><span class="co"># # First plot</span></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].scatter(sample, y, c<span class="op">=</span><span class="st">'black'</span>, s<span class="op">=</span><span class="dv">25</span>,</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>              marker<span class="op">=</span><span class="st">'o'</span>,</span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>              edgecolors<span class="op">=</span>brown,</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>              linewidths<span class="op">=</span><span class="dv">1</span></span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>              )</span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(</span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Taille des mères: observations (avec frémissement / 'jittering')"</span>)</span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_yticks([])</span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Second plot</span></span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n_samples):</span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a>    current_density <span class="op">=</span> norm.pdf(x, sample.iloc[i], bandwidth)</span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a>    z <span class="op">+=</span> current_density <span class="op">/</span> n_samples</span>
<span id="cb41-26"><a href="#cb41-26" aria-hidden="true" tabindex="-1"></a>    ax[<span class="dv">1</span>].plot(x, current_density, <span class="st">'-'</span>,</span>
<span id="cb41-27"><a href="#cb41-27" aria-hidden="true" tabindex="-1"></a>               color<span class="op">=</span>sns.color_palette()[<span class="dv">0</span>], lw<span class="op">=</span><span class="dv">1</span>, alpha<span class="op">=</span><span class="fl">0.05</span>)</span>
<span id="cb41-28"><a href="#cb41-28" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_title(</span>
<span id="cb41-29"><a href="#cb41-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Gaussiennes centrées sur les observations (écart-type </span><span class="sc">{0}</span><span class="st">)"</span>.<span class="bu">format</span>(bandwidth))</span>
<span id="cb41-30"><a href="#cb41-30" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_ylim(<span class="dv">0</span>, <span class="fl">.3</span>)</span>
<span id="cb41-31"><a href="#cb41-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-32"><a href="#cb41-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Third plot</span></span>
<span id="cb41-33"><a href="#cb41-33" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">2</span>].plot(x, z, <span class="st">'-'</span>, color<span class="op">=</span>sns.color_palette()[<span class="dv">0</span>], lw<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb41-34"><a href="#cb41-34" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">2</span>].set_title(<span class="st">"Moyenne des gaussiennes précédentes: KDE"</span>)</span>
<span id="cb41-35"><a href="#cb41-35" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">2</span>].set_xlabel(<span class="st">'Taille (cm)'</span>)</span>
<span id="cb41-36"><a href="#cb41-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-37"><a href="#cb41-37" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()  <span class="co"># help improve spacing between subplots</span></span>
<span id="cb41-38"><a href="#cb41-38" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig, dirname,</span>
<span id="cb41-39"><a href="#cb41-39" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"kde_for_dummies"</span>, imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="StatDescriptives_files/figure-html/cell-28-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="affichage-et-coefficient-alpha" class="level3">
<h3 class="anchored" data-anchor-id="affichage-et-coefficient-alpha">Affichage et coefficient alpha</h3>
<p>Dans la partie ci-dessus le coefficient alpha (cf.&nbsp;la figure du milieu ci-dessus) permet d’afficher de manière plus opaque les gaussiennes qui sont plus fréquentes que les autres.</p>
</section>
<section id="synthèse-de-léchantillon" class="level3">
<h3 class="anchored" data-anchor-id="synthèse-de-léchantillon">Synthèse de l’échantillon</h3>
<div id="cell-50" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>mean <span class="op">=</span> np.mean(df_babies[<span class="st">'ht'</span>])</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>sd <span class="op">=</span> np.std(df_babies[<span class="st">'ht'</span>])</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Moyenne=</span><span class="sc">{0}</span><span class="st"> (cm) et écart-type=</span><span class="sc">{1}</span><span class="st"> (cm)"</span>.<span class="bu">format</span>(mean, sd))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Moyenne=162.71715107913673 (cm) et écart-type=6.4288819931782255 (cm)</code></pre>
</div>
</div>
</section>
<section id="autres-densités-unidimensionnelles" class="level3">
<h3 class="anchored" data-anchor-id="autres-densités-unidimensionnelles">Autres densités unidimensionnelles</h3>
</section>
</section>
<section id="exercice-taille-des-parents" class="level2">
<h2 class="anchored" data-anchor-id="exercice-taille-des-parents"><font color="red"> EXERCICE : Taille des parents </font></h2>
<p>Afficher sur un même graphique la répartition de la taille des parents, une courbe homme / une courbe femme</p>
<div id="cell-53" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># XXX </span><span class="al">TODO</span><span class="co">:</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-54" class="cell" data-hide_input="true" data-execution_count="29">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Réponse:</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">3</span>, <span class="dv">3</span>))</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Taille des parents (densité)"</span>)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>sns.kdeplot(df_babies[<span class="st">'dht'</span>], label<span class="op">=</span><span class="st">"Père"</span>, shade<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>sns.kdeplot(df_babies[<span class="st">'ht'</span>], label<span class="op">=</span><span class="st">"Mère"</span>, shade<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Taille (cm)"</span>)</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Proportion"</span>)</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>plt.tight_layout() <span class="co"># help improve spacing between subplots (possible difficulty reading label/title without)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="StatDescriptives_files/figure-html/cell-31-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-55" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>fig_hist_cigs <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">4</span>))</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>hist_manual <span class="op">=</span> df_babies.loc[df_babies[<span class="st">"number"</span>] <span class="op">&gt;</span> <span class="op">-</span><span class="dv">1</span>, <span class="st">'number'</span>]</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>hist_manual.hist(bins<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">60</span>,</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>                       <span class="dv">71</span>], density<span class="op">=</span><span class="va">False</span>)  <span class="co"># test: True/False</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Nombre de cigarettes fumées par une mère fumeuse'</span>)</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Effectif'</span>)</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Histogramme de la consommation de cigarettes des mères"</span>)</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig_hist_cigs, dirname,</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"hist_cigs_mother"</span>, imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="StatDescriptives_files/figure-html/cell-32-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-56" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># hist_manual</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>hist_manual.value_counts() <span class="op">/</span> hist_manual.count() <span class="op">*</span> <span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<pre><code>0.0     46.763
24.5    16.547
2.5     12.374
7.0     12.374
12.0     6.331
34.5     2.734
17.0     1.727
50.0     1.151
Name: number, dtype: float64</code></pre>
</div>
</div>
<div id="cell-57" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check sum = 100%</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>np.<span class="bu">sum</span>(hist_manual.value_counts() <span class="op">/</span> hist_manual.count() <span class="op">*</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<pre><code>100.0</code></pre>
</div>
</div>
<div id="cell-58" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># histogram of height by type of smoker: 0 never, 1 now, 2 during pregnancy, 3 within 1yr</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>df_babies.hist(column<span class="op">=</span><span class="st">'ht'</span>, by<span class="op">=</span><span class="st">'smoke'</span>,density<span class="op">=</span><span class="va">True</span>, bins<span class="op">=</span><span class="dv">20</span>, grid<span class="op">=</span><span class="va">False</span>, layout<span class="op">=</span>(<span class="dv">4</span>,<span class="dv">1</span>), sharex<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Taille de la mère (cm)'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<pre><code>Text(0.5, 0, 'Taille de la mère (cm)')</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="StatDescriptives_files/figure-html/cell-35-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-59" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># help on subplots:</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>plt.subplots?</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-60" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>nrow <span class="op">=</span> <span class="dv">4</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>ncol <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>fig, axs <span class="op">=</span> plt.subplots(nrow, ncol, figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">5</span>), sharex<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, group <span class="kw">in</span> <span class="bu">enumerate</span>(df_babies.groupby(<span class="st">"smoke"</span>)):</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>        axs[i].set_title(<span class="st">"Densité de la taille des mères"</span>)</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>    sns.kdeplot(group[<span class="dv">1</span>][<span class="st">"ht"</span>], ax<span class="op">=</span>axs[i], label<span class="op">=</span>group[<span class="dv">0</span>])</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">==</span> <span class="dv">3</span>:</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>        axs[i].set_xlabel(<span class="st">"Taille de la mère (cm)"</span>)</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="StatDescriptives_files/figure-html/cell-37-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-61" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">4</span>))</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>df_babies.groupby(<span class="st">"smoke"</span>).ht.plot(kind<span class="op">=</span><span class="st">'kde'</span>)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Taille de la mère (cm)'</span>)</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Proportion'</span>)</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Densité de la taille des mères par niveau de tabagisme"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<pre><code>Text(0.5, 1.0, 'Densité de la taille des mères par niveau de tabagisme')</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="StatDescriptives_files/figure-html/cell-38-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="densité-bi-dimensionnelle-le-code-est-hors-programme-pour-la-densité-bi-dimensionnelle" class="level2">
<h2 class="anchored" data-anchor-id="densité-bi-dimensionnelle-le-code-est-hors-programme-pour-la-densité-bi-dimensionnelle">Densité bi-dimensionnelle (le code est hors programme pour la densité bi-dimensionnelle)</h2>
<p>La cellule qui suit est inutile en première lecture</p>
<div id="cell-63" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>path_target <span class="op">=</span> <span class="st">"./plot_species_kde.py"</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>url_shared_files <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/scikit-learn/scikit-learn/master/examples/neighbors/plot_species_kde.py"</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>download(url_shared_files, path_target, replace<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Replace is False and data exists, so doing nothing. Use replace=True to re-download the data.</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="37">
<pre><code>'./plot_species_kde.py'</code></pre>
</div>
</div>
<div id="cell-64" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># le fichier peut être téléchargé ici:</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="co"># https://raw.githubusercontent.com/scikit-learn/scikit-learn/master/examples/neighbors/plot_species_kde.py</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="co"># et mis dans le repertoire de votre notebook</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="bu">exec</span>(<span class="bu">open</span>(<span class="st">'plot_species_kde.py'</span>).read())</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig, dirname, <span class="st">"KDE2D"</span>, imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> - computing KDE in spherical coordinates
 - plot coastlines from coverage
 - computing KDE in spherical coordinates
 - plot coastlines from coverage</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="StatDescriptives_files/figure-html/cell-40-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="statistiques-descriptives" class="level1">
<h1>Statistiques descriptives</h1>
<div id="cell-66" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy <span class="im">import</span> stats</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> mpl_toolkits.mplot3d <span class="im">import</span> Axes3D</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> df_babies[<span class="st">'dwt'</span>]  <span class="co"># Father height</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>nb_samples <span class="op">=</span> X.shape[<span class="dv">0</span>]</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> np.ones(nb_samples,) <span class="op">+</span> <span class="fl">0.05</span> <span class="op">*</span> np.random.randn(nb_samples,)</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Statistiques:</span></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>meanX <span class="op">=</span> np.mean(X)  <span class="co"># moyenne</span></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>minX <span class="op">=</span> np.<span class="bu">min</span>(X)  <span class="co"># min</span></span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a>maxX <span class="op">=</span> np.<span class="bu">max</span>(X)  <span class="co"># max</span></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a>medX <span class="op">=</span> np.median(X)  <span class="co"># médiane</span></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>meangeoX <span class="op">=</span> gmean(X)  <span class="co"># moyenne géométrique</span></span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>meanharmoX <span class="op">=</span> hmean(X)  <span class="co"># moyenne harmonique</span></span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a>rangeX <span class="op">=</span> maxX <span class="op">-</span> minX</span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a>MADX <span class="op">=</span> np.median(np.<span class="bu">abs</span>(X <span class="op">-</span> medX))  <span class="co"># mean absolute deviation</span></span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> np.std(X)  <span class="co"># standard deviation default of numpy is 1/n, see np.std?</span></span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true" tabindex="-1"></a>alpha_trim <span class="op">=</span> <span class="fl">0.15</span></span>
<span id="cb62-20"><a href="#cb62-20" aria-hidden="true" tabindex="-1"></a>tmeanX <span class="op">=</span> stats.trim_mean(X, alpha_trim)  <span class="co"># trimmed mean (level: alpha_trim)</span></span>
<span id="cb62-21"><a href="#cb62-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-22"><a href="#cb62-22" aria-hidden="true" tabindex="-1"></a>dim1, dim2 <span class="op">=</span> <span class="dv">9</span>, <span class="dv">3</span></span>
<span id="cb62-23"><a href="#cb62-23" aria-hidden="true" tabindex="-1"></a>ymax <span class="op">=</span> <span class="fl">1.6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="estimateur-de-position-ou-de-centrage" class="level2">
<h2 class="anchored" data-anchor-id="estimateur-de-position-ou-de-centrage">Estimateur de position (ou de centrage)</h2>
<section id="la-moyenne-empirique" class="level3">
<h3 class="anchored" data-anchor-id="la-moyenne-empirique">La moyenne (empirique)</h3>
<div id="cell-69" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>fig1, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(dim1, dim2))</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="dv">0</span>, <span class="fl">1.1</span> <span class="op">*</span> ymax)</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>ax.set_xlim(minX <span class="op">-</span> <span class="fl">0.1</span> <span class="op">*</span> rangeX, maxX <span class="op">+</span> <span class="fl">0.1</span> <span class="op">*</span> rangeX)</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>ax.get_xaxis().tick_bottom()</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>ax.axes.get_yaxis().set_visible(<span class="va">False</span>)</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'right'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'top'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'bottom'</span>].set_position((<span class="st">'data'</span>, <span class="fl">0.5</span>))</span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'left'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>params <span class="op">=</span> {<span class="st">'color'</span>: <span class="st">'black'</span>, <span class="st">'s'</span>: <span class="dv">300</span>,</span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a>          <span class="st">'marker'</span>: <span class="st">'o'</span>, <span class="st">'edgecolors'</span>: brown, <span class="st">'lw'</span>: <span class="dv">1</span>}</span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a>ax.scatter(X, y, <span class="op">**</span>params)</span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a>ax.plot([meanX, meanX], [<span class="dv">0</span>, ymax], color<span class="op">=</span>brown, lw<span class="op">=</span><span class="fl">1.5</span>, ls<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-18"><a href="#cb63-18" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="vs">r'$y$'</span>, fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb63-19"><a href="#cb63-19" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="vs">r'$\overline</span><span class="sc">{y}</span><span class="vs">_n$ : moyenne empirique'</span>,</span>
<span id="cb63-20"><a href="#cb63-20" aria-hidden="true" tabindex="-1"></a>             xy<span class="op">=</span>(meanX, <span class="fl">0.4</span>), xycoords<span class="op">=</span><span class="st">'data'</span>, xytext<span class="op">=</span>(<span class="op">+</span><span class="dv">10</span>, <span class="op">+</span><span class="dv">30</span>),</span>
<span id="cb63-21"><a href="#cb63-21" aria-hidden="true" tabindex="-1"></a>             textcoords<span class="op">=</span><span class="st">'offset points'</span>, fontsize<span class="op">=</span><span class="dv">18</span>, color<span class="op">=</span>brown)</span>
<span id="cb63-22"><a href="#cb63-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-23"><a href="#cb63-23" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb63-24"><a href="#cb63-24" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb63-25"><a href="#cb63-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-26"><a href="#cb63-26" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig1, dirname, <span class="st">"DadWeightMean"</span>, imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="StatDescriptives_files/figure-html/cell-42-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="la-médiane-empirique" class="level3">
<h3 class="anchored" data-anchor-id="la-médiane-empirique">La médiane (empirique)</h3>
<div id="cell-71" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>fig2, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(dim1, dim2))</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="dv">0</span>, <span class="fl">1.1</span> <span class="op">*</span> ymax)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>ax.set_xlim(minX <span class="op">-</span> <span class="fl">0.1</span> <span class="op">*</span> rangeX, maxX <span class="op">+</span> <span class="fl">0.1</span> <span class="op">*</span> rangeX)</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>ax.get_xaxis().tick_bottom()</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>ax.axes.get_yaxis().set_visible(<span class="va">False</span>)</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'right'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'top'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'bottom'</span>].set_position((<span class="st">'data'</span>, <span class="fl">0.5</span>))</span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'left'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>ax.scatter(X, y, <span class="op">**</span>params)</span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a>ax.plot([medX, medX], [<span class="dv">0</span>, ymax], color<span class="op">=</span>purple, lw<span class="op">=</span><span class="fl">1.5</span>, ls<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="vs">r'$y$'</span>, fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="vs">r'$\rm</span><span class="sc">{Med}</span><span class="vs">_n(y):$ médiane empirique'</span>,</span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a>             xy<span class="op">=</span>(medX, <span class="dv">1</span>), xycoords<span class="op">=</span><span class="st">'data'</span>, xytext<span class="op">=</span>(<span class="op">-</span><span class="dv">85</span>, <span class="op">+</span><span class="dv">52</span>),</span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a>             textcoords<span class="op">=</span><span class="st">'offset points'</span>, fontsize<span class="op">=</span><span class="dv">18</span>, color<span class="op">=</span>purple)</span>
<span id="cb64-19"><a href="#cb64-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-20"><a href="#cb64-20" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb64-21"><a href="#cb64-21" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb64-22"><a href="#cb64-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-23"><a href="#cb64-23" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig2, dirname, <span class="st">"DadWeightMediane"</span>,</span>
<span id="cb64-24"><a href="#cb64-24" aria-hidden="true" tabindex="-1"></a>                  imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="StatDescriptives_files/figure-html/cell-43-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="la-moyenne-tronquée-au-niveau-alpha_trim" class="level3">
<h3 class="anchored" data-anchor-id="la-moyenne-tronquée-au-niveau-alpha_trim">La moyenne tronquée (au niveau <span class="math inline">\alpha_{trim}</span>)</h3>
<div id="cell-73" class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>fig1, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(dim1, dim2))</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="dv">0</span>, <span class="fl">1.1</span> <span class="op">*</span> ymax)</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>ax.set_xlim(minX <span class="op">-</span> <span class="fl">0.1</span> <span class="op">*</span> rangeX, maxX <span class="op">+</span> <span class="fl">0.1</span> <span class="op">*</span> rangeX)</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>ax.get_xaxis().tick_bottom()</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>ax.axes.get_yaxis().set_visible(<span class="va">False</span>)</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'right'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'top'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'bottom'</span>].set_position((<span class="st">'data'</span>, <span class="fl">0.5</span>))</span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'left'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>ax.scatter(X, y, <span class="op">**</span>params)</span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>ax.plot([tmeanX, tmeanX], [<span class="dv">0</span>, ymax], c<span class="op">=</span><span class="st">'blue'</span>, lw<span class="op">=</span><span class="fl">1.5</span>, ls<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="vs">r'$y$'</span>, fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>tt <span class="op">=</span> <span class="st">"$\overline</span><span class="sc">{y}</span><span class="st">_{n,</span><span class="sc">%s</span><span class="st">} :$ moyenne tronquée"</span> <span class="op">%</span> <span class="bu">str</span>(alpha_trim)</span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>plt.annotate(tt, xy<span class="op">=</span>(tmeanX, <span class="dv">1</span>), xycoords<span class="op">=</span><span class="st">'data'</span>, xytext<span class="op">=</span>(<span class="op">+</span><span class="dv">22</span>, <span class="op">+</span><span class="dv">50</span>),</span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a>             textcoords<span class="op">=</span><span class="st">'offset points'</span>, fontsize<span class="op">=</span><span class="dv">18</span>, color<span class="op">=</span><span class="st">'blue'</span>)</span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb65-22"><a href="#cb65-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-23"><a href="#cb65-23" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig1, dirname, <span class="st">"DadWeightTrimmed"</span>, imageformat,saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="la-moyenne-géométrique" class="level3">
<h3 class="anchored" data-anchor-id="la-moyenne-géométrique">La moyenne géométrique</h3>
<div id="cell-75" class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>fig2, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(dim1, dim2))</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="dv">0</span>, <span class="fl">1.1</span> <span class="op">*</span> ymax)</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>ax.set_xlim(minX <span class="op">-</span> <span class="fl">0.1</span> <span class="op">*</span> rangeX, maxX <span class="op">+</span> <span class="fl">0.1</span> <span class="op">*</span> rangeX)</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>ax.get_xaxis().tick_bottom()</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>ax.axes.get_yaxis().set_visible(<span class="va">False</span>)</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'right'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'top'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'bottom'</span>].set_position((<span class="st">'data'</span>, <span class="fl">0.5</span>))</span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'left'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a>ax.scatter(X, y, <span class="op">**</span>params)</span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a>ax.plot([meangeoX, meangeoX], [<span class="dv">0</span>, ymax], color<span class="op">=</span><span class="st">"orange"</span>, lw<span class="op">=</span><span class="fl">1.5</span>, ls<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="vs">r'$y$'</span>, fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="vs">r'$\overline</span><span class="sc">{y}</span><span class="vs">_n^</span><span class="sc">{{</span><span class="vs">geom</span><span class="sc">}}</span><span class="vs">:$ moyenne géométrique'</span>,</span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a>             xy<span class="op">=</span>(meangeoX, <span class="dv">1</span>), xycoords<span class="op">=</span><span class="st">'data'</span>, xytext<span class="op">=</span>(<span class="op">-</span><span class="dv">61</span>, <span class="op">+</span><span class="dv">52</span>),</span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a>             textcoords<span class="op">=</span><span class="st">'offset points'</span>, fontsize<span class="op">=</span><span class="dv">18</span>, color<span class="op">=</span><span class="st">"orange"</span>)</span>
<span id="cb66-19"><a href="#cb66-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-20"><a href="#cb66-20" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb66-21"><a href="#cb66-21" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb66-22"><a href="#cb66-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-23"><a href="#cb66-23" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig2, dirname, <span class="st">"DadWeightGeomMean"</span>,</span>
<span id="cb66-24"><a href="#cb66-24" aria-hidden="true" tabindex="-1"></a>                  imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="la-moyenne-harmonique" class="level3">
<h3 class="anchored" data-anchor-id="la-moyenne-harmonique">La moyenne harmonique</h3>
<div id="cell-77" class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>fig2, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(dim1, dim2))</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="dv">0</span>, <span class="fl">1.1</span> <span class="op">*</span> ymax)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>ax.set_xlim(minX <span class="op">-</span> <span class="fl">0.1</span> <span class="op">*</span> rangeX, maxX <span class="op">+</span> <span class="fl">0.1</span> <span class="op">*</span> rangeX)</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>ax.get_xaxis().tick_bottom()</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>ax.axes.get_yaxis().set_visible(<span class="va">False</span>)</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'right'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'top'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'bottom'</span>].set_position((<span class="st">'data'</span>, <span class="fl">0.5</span>))</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'left'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>ax.scatter(X, y, <span class="op">**</span>params)</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>ax.plot([meanharmoX, meanharmoX], [<span class="dv">0</span>, ymax], color<span class="op">=</span><span class="st">"silver"</span>, lw<span class="op">=</span><span class="fl">1.5</span>, ls<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="vs">r'$y$'</span>, fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="vs">r'$\overline</span><span class="sc">{y}</span><span class="vs">_n^</span><span class="sc">{{</span><span class="vs">harmo</span><span class="sc">}}</span><span class="vs">:$ moyenne harmonique'</span>,</span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>             xy<span class="op">=</span>(meanharmoX, <span class="dv">1</span>), xycoords<span class="op">=</span><span class="st">'data'</span>, xytext<span class="op">=</span>(<span class="op">-</span><span class="dv">61</span>, <span class="op">+</span><span class="dv">52</span>),</span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>             textcoords<span class="op">=</span><span class="st">'offset points'</span>, fontsize<span class="op">=</span><span class="dv">18</span>, color<span class="op">=</span><span class="st">"silver"</span>)</span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb67-22"><a href="#cb67-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-23"><a href="#cb67-23" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig2, dirname, <span class="st">"DadWeightHarmoMean"</span>,</span>
<span id="cb67-24"><a href="#cb67-24" aria-hidden="true" tabindex="-1"></a>                  imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="comparatif-des-statistiques-de-centrages-ou-de-position" class="level3">
<h3 class="anchored" data-anchor-id="comparatif-des-statistiques-de-centrages-ou-de-position">Comparatif des statistiques de centrages (ou de position)</h3>
<div id="cell-79" class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>fig1, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(dim1, dim2))</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="dv">0</span>, <span class="fl">1.1</span> <span class="op">*</span> ymax)</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>ax.set_xlim(minX <span class="op">-</span> <span class="fl">0.1</span> <span class="op">*</span> rangeX, maxX <span class="op">+</span> <span class="fl">0.1</span> <span class="op">*</span> rangeX)</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>ax.get_xaxis().tick_bottom()</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>ax.axes.get_yaxis().set_visible(<span class="va">False</span>)</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'right'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'top'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'bottom'</span>].set_position((<span class="st">'data'</span>, <span class="fl">0.5</span>))</span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'left'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a>ax.scatter(X, y, <span class="op">**</span>params)</span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a>ax.plot([meanX, meanX], [<span class="dv">0</span>, ymax], color<span class="op">=</span>brown, lw<span class="op">=</span><span class="fl">1.5</span>, ls<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a>ax.plot([medX, medX], [<span class="dv">0</span>, ymax], color<span class="op">=</span>purple, lw<span class="op">=</span><span class="fl">1.5</span>, ls<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true" tabindex="-1"></a>ax.plot([tmeanX, tmeanX], [<span class="dv">0</span>, ymax], color<span class="op">=</span><span class="st">'blue'</span>,</span>
<span id="cb68-17"><a href="#cb68-17" aria-hidden="true" tabindex="-1"></a>        lw<span class="op">=</span><span class="fl">1.5</span>, ls<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb68-18"><a href="#cb68-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-19"><a href="#cb68-19" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="vs">r'$y$'</span>, fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb68-20"><a href="#cb68-20" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="vs">r'$\rm</span><span class="sc">{Med}</span><span class="vs">_n(y):$ médiane empirique'</span>,</span>
<span id="cb68-21"><a href="#cb68-21" aria-hidden="true" tabindex="-1"></a>             xy<span class="op">=</span>(medX, <span class="dv">1</span>), xycoords<span class="op">=</span><span class="st">'data'</span>, xytext<span class="op">=</span>(<span class="op">-</span><span class="dv">85</span>, <span class="op">+</span><span class="dv">30</span>),</span>
<span id="cb68-22"><a href="#cb68-22" aria-hidden="true" tabindex="-1"></a>             textcoords<span class="op">=</span><span class="st">'offset points'</span>, fontsize<span class="op">=</span><span class="dv">18</span>, color<span class="op">=</span>purple)</span>
<span id="cb68-23"><a href="#cb68-23" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="vs">r'$\bar</span><span class="sc">{y}</span><span class="vs">_n :$ moyenne empirique'</span>, xy<span class="op">=</span>(meanX, <span class="fl">0.4</span>),</span>
<span id="cb68-24"><a href="#cb68-24" aria-hidden="true" tabindex="-1"></a>             xycoords<span class="op">=</span><span class="st">'data'</span>, xytext<span class="op">=</span>(<span class="op">+</span><span class="dv">10</span>, <span class="op">+</span><span class="dv">30</span>), textcoords<span class="op">=</span><span class="st">'offset points'</span>,</span>
<span id="cb68-25"><a href="#cb68-25" aria-hidden="true" tabindex="-1"></a>             fontsize<span class="op">=</span><span class="dv">18</span>, color<span class="op">=</span>brown)</span>
<span id="cb68-26"><a href="#cb68-26" aria-hidden="true" tabindex="-1"></a>plt.annotate(tt, xy<span class="op">=</span>(tmeanX, <span class="dv">1</span>), xycoords<span class="op">=</span><span class="st">'data'</span>, xytext<span class="op">=</span>(<span class="op">+</span><span class="dv">22</span>, <span class="op">+</span><span class="dv">50</span>),</span>
<span id="cb68-27"><a href="#cb68-27" aria-hidden="true" tabindex="-1"></a>             textcoords<span class="op">=</span><span class="st">'offset points'</span>, fontsize<span class="op">=</span><span class="dv">18</span>, color<span class="op">=</span><span class="st">'blue'</span>)</span>
<span id="cb68-28"><a href="#cb68-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-29"><a href="#cb68-29" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb68-30"><a href="#cb68-30" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb68-31"><a href="#cb68-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-32"><a href="#cb68-32" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig1, dirname, <span class="st">"DadWeightMedianeMean"</span>,</span>
<span id="cb68-33"><a href="#cb68-33" aria-hidden="true" tabindex="-1"></a>                  imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="estimateurs-de-dispersion" class="level2">
<h2 class="anchored" data-anchor-id="estimateurs-de-dispersion">Estimateurs de dispersion</h2>
<section id="lécart-type-empirique" class="level3">
<h3 class="anchored" data-anchor-id="lécart-type-empirique">L’écart-type (empirique)</h3>
<div id="cell-82" class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>fig1, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(dim1, dim2))</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="dv">0</span>, <span class="fl">1.1</span> <span class="op">*</span> ymax)</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>ax.set_xlim(minX <span class="op">-</span> <span class="fl">0.1</span> <span class="op">*</span> rangeX, maxX <span class="op">+</span> <span class="fl">0.1</span> <span class="op">*</span> rangeX)</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>ax.get_xaxis().tick_bottom()</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>ax.axes.get_yaxis().set_visible(<span class="va">False</span>)</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'right'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'top'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'bottom'</span>].set_position((<span class="st">'data'</span>, <span class="fl">0.5</span>))</span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'left'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a>ax.scatter(X, y, <span class="op">**</span>params)</span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a>altitude <span class="op">=</span> <span class="fl">1.29</span></span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a>arrow_params <span class="op">=</span> {<span class="st">'fc'</span>: brown, <span class="st">'ec'</span>: brown, <span class="st">'head_width'</span>: <span class="fl">0.05</span>,</span>
<span id="cb69-16"><a href="#cb69-16" aria-hidden="true" tabindex="-1"></a>                <span class="st">'head_length'</span>: <span class="fl">0.1</span>, <span class="st">'length_includes_head'</span>: <span class="va">True</span>}</span>
<span id="cb69-17"><a href="#cb69-17" aria-hidden="true" tabindex="-1"></a>plt.arrow(meanX, altitude, <span class="op">-</span>s, <span class="dv">0</span>, <span class="op">**</span>arrow_params)</span>
<span id="cb69-18"><a href="#cb69-18" aria-hidden="true" tabindex="-1"></a>plt.arrow(meanX <span class="op">-</span> s, altitude, s, <span class="dv">0</span>, <span class="op">**</span>arrow_params)</span>
<span id="cb69-19"><a href="#cb69-19" aria-hidden="true" tabindex="-1"></a>plt.arrow(meanX, altitude, s, <span class="dv">0</span>, <span class="op">**</span>arrow_params)</span>
<span id="cb69-20"><a href="#cb69-20" aria-hidden="true" tabindex="-1"></a>plt.arrow(meanX <span class="op">+</span> s, altitude, <span class="op">-</span>s, <span class="dv">0</span>, <span class="op">**</span>arrow_params)</span>
<span id="cb69-21"><a href="#cb69-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-22"><a href="#cb69-22" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="vs">r'$y$'</span>, fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb69-23"><a href="#cb69-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-24"><a href="#cb69-24" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="vs">r'$\bar</span><span class="sc">{y}</span><span class="vs">_n :$ moyenne empirique'</span>, xy<span class="op">=</span>(meanX, <span class="fl">0.4</span>),</span>
<span id="cb69-25"><a href="#cb69-25" aria-hidden="true" tabindex="-1"></a>             xycoords<span class="op">=</span><span class="st">'data'</span>, xytext<span class="op">=</span>(<span class="op">+</span><span class="dv">10</span>, <span class="op">+</span><span class="dv">30</span>), textcoords<span class="op">=</span><span class="st">'offset points'</span>,</span>
<span id="cb69-26"><a href="#cb69-26" aria-hidden="true" tabindex="-1"></a>             fontsize<span class="op">=</span><span class="dv">18</span>, color<span class="op">=</span>brown)</span>
<span id="cb69-27"><a href="#cb69-27" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="vs">r'$s_n$'</span>, xy<span class="op">=</span>(meanX <span class="op">+</span> s <span class="op">*</span> (<span class="fl">0.2</span>), <span class="dv">1</span>), xycoords<span class="op">=</span><span class="st">'data'</span>,</span>
<span id="cb69-28"><a href="#cb69-28" aria-hidden="true" tabindex="-1"></a>             xytext<span class="op">=</span>(<span class="op">+</span><span class="dv">10</span>, <span class="op">+</span><span class="dv">40</span>), textcoords<span class="op">=</span><span class="st">'offset points'</span>, fontsize<span class="op">=</span><span class="dv">18</span>,</span>
<span id="cb69-29"><a href="#cb69-29" aria-hidden="true" tabindex="-1"></a>             color<span class="op">=</span>brown)</span>
<span id="cb69-30"><a href="#cb69-30" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="vs">r'$s_n$'</span>, xy<span class="op">=</span>(meanX <span class="op">-</span> s <span class="op">*</span> (<span class="fl">0.7</span>), <span class="dv">1</span>), xycoords<span class="op">=</span><span class="st">'data'</span>,</span>
<span id="cb69-31"><a href="#cb69-31" aria-hidden="true" tabindex="-1"></a>             xytext<span class="op">=</span>(<span class="op">+</span><span class="dv">10</span>, <span class="op">+</span><span class="dv">40</span>), textcoords<span class="op">=</span><span class="st">'offset points'</span>, fontsize<span class="op">=</span><span class="dv">18</span>,</span>
<span id="cb69-32"><a href="#cb69-32" aria-hidden="true" tabindex="-1"></a>             color<span class="op">=</span>brown)</span>
<span id="cb69-33"><a href="#cb69-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-34"><a href="#cb69-34" aria-hidden="true" tabindex="-1"></a>ax.plot([meanX, meanX], [<span class="dv">0</span>, ymax], color<span class="op">=</span>brown, lw<span class="op">=</span><span class="fl">1.5</span>, ls<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb69-35"><a href="#cb69-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-36"><a href="#cb69-36" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb69-37"><a href="#cb69-37" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb69-38"><a href="#cb69-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-39"><a href="#cb69-39" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig1, dirname, <span class="st">"DadWeightSD"</span>, imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="la-médiane-des-déviations-absolues" class="level3">
<h3 class="anchored" data-anchor-id="la-médiane-des-déviations-absolues">La médiane des déviations absolues</h3>
<p>(en : median of absolute deviation (MAD))</p>
<div id="cell-84" class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>fig1, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(dim1, dim2))</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="dv">0</span>, <span class="fl">1.1</span> <span class="op">*</span> ymax)</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>ax.set_xlim(minX <span class="op">-</span> <span class="fl">0.1</span> <span class="op">*</span> rangeX, maxX <span class="op">+</span> <span class="fl">0.1</span> <span class="op">*</span> rangeX)</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>ax.get_xaxis().tick_bottom()</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>ax.axes.get_yaxis().set_visible(<span class="va">False</span>)</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'right'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'top'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'bottom'</span>].set_position((<span class="st">'data'</span>, <span class="fl">0.5</span>))</span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'left'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>ax.scatter(X, y, <span class="op">**</span>params)</span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true" tabindex="-1"></a>altitude <span class="op">=</span> <span class="fl">1.29</span></span>
<span id="cb70-15"><a href="#cb70-15" aria-hidden="true" tabindex="-1"></a>arrow_params_purple <span class="op">=</span> {<span class="st">'fc'</span>: purple, <span class="st">'ec'</span>: purple, <span class="st">'head_width'</span>: <span class="fl">0.05</span>,</span>
<span id="cb70-16"><a href="#cb70-16" aria-hidden="true" tabindex="-1"></a>                <span class="st">'head_length'</span>: <span class="fl">0.1</span>, <span class="st">'length_includes_head'</span>: <span class="va">True</span>}</span>
<span id="cb70-17"><a href="#cb70-17" aria-hidden="true" tabindex="-1"></a>plt.arrow(medX, altitude, <span class="op">-</span>MADX, <span class="dv">0</span>, <span class="op">**</span>arrow_params_purple)</span>
<span id="cb70-18"><a href="#cb70-18" aria-hidden="true" tabindex="-1"></a>plt.arrow(medX <span class="op">-</span> MADX, altitude, MADX, <span class="dv">0</span>, <span class="op">**</span>arrow_params_purple)</span>
<span id="cb70-19"><a href="#cb70-19" aria-hidden="true" tabindex="-1"></a>plt.arrow(medX, altitude, MADX, <span class="dv">0</span>, <span class="op">**</span>arrow_params_purple)</span>
<span id="cb70-20"><a href="#cb70-20" aria-hidden="true" tabindex="-1"></a>plt.arrow(medX <span class="op">+</span> MADX, altitude, <span class="op">-</span>MADX, <span class="dv">0</span>, <span class="op">**</span>arrow_params_purple)</span>
<span id="cb70-21"><a href="#cb70-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-22"><a href="#cb70-22" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="vs">r'$y$'</span>, fontsize<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb70-23"><a href="#cb70-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-24"><a href="#cb70-24" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="vs">r'$\rm</span><span class="sc">{Med}</span><span class="vs">_n(y):$ médiane empirique'</span>,</span>
<span id="cb70-25"><a href="#cb70-25" aria-hidden="true" tabindex="-1"></a>             xy<span class="op">=</span>(medX, <span class="fl">0.4</span>), xycoords<span class="op">=</span><span class="st">'data'</span>, xytext<span class="op">=</span>(<span class="op">+</span><span class="dv">10</span>, <span class="op">+</span><span class="dv">30</span>),</span>
<span id="cb70-26"><a href="#cb70-26" aria-hidden="true" tabindex="-1"></a>             textcoords<span class="op">=</span><span class="st">'offset points'</span>, fontsize<span class="op">=</span><span class="dv">18</span>, color<span class="op">=</span>purple)</span>
<span id="cb70-27"><a href="#cb70-27" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="vs">r'$\rm</span><span class="sc">{MAD}</span><span class="vs">_n(y)$'</span>, xy<span class="op">=</span>(medX <span class="op">+</span> MADX <span class="op">*</span> (<span class="fl">0.01</span>), <span class="dv">1</span>),</span>
<span id="cb70-28"><a href="#cb70-28" aria-hidden="true" tabindex="-1"></a>             xycoords<span class="op">=</span><span class="st">'data'</span>, xytext<span class="op">=</span>(<span class="op">+</span><span class="dv">10</span>, <span class="op">+</span><span class="dv">44</span>), textcoords<span class="op">=</span><span class="st">'offset points'</span>,</span>
<span id="cb70-29"><a href="#cb70-29" aria-hidden="true" tabindex="-1"></a>             fontsize<span class="op">=</span><span class="dv">14</span>, color<span class="op">=</span>purple)</span>
<span id="cb70-30"><a href="#cb70-30" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="vs">r'$\rm</span><span class="sc">{MAD}</span><span class="vs">_n(y)$'</span>, xy<span class="op">=</span>(medX <span class="op">-</span> MADX <span class="op">*</span> (<span class="fl">1.35</span>), <span class="dv">1</span>),</span>
<span id="cb70-31"><a href="#cb70-31" aria-hidden="true" tabindex="-1"></a>             xycoords<span class="op">=</span><span class="st">'data'</span>, xytext<span class="op">=</span>(<span class="op">+</span><span class="dv">10</span>, <span class="op">+</span><span class="dv">44</span>), textcoords<span class="op">=</span><span class="st">'offset points'</span>,</span>
<span id="cb70-32"><a href="#cb70-32" aria-hidden="true" tabindex="-1"></a>             fontsize<span class="op">=</span><span class="dv">14</span>, color<span class="op">=</span>purple)</span>
<span id="cb70-33"><a href="#cb70-33" aria-hidden="true" tabindex="-1"></a>ax.plot([medX, medX], [<span class="dv">0</span>, ymax], color<span class="op">=</span>purple, lw<span class="op">=</span><span class="fl">1.5</span>, ls<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb70-34"><a href="#cb70-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-35"><a href="#cb70-35" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb70-36"><a href="#cb70-36" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb70-37"><a href="#cb70-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-38"><a href="#cb70-38" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig1, dirname, <span class="st">"DadWeightMAD"</span>, imageformat,saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="fonction-de-répartition-empirique" class="level2">
<h2 class="anchored" data-anchor-id="fonction-de-répartition-empirique">Fonction de répartition (empirique)</h2>
<div id="cell-86" class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>yrange_lim_down <span class="op">=</span> (<span class="fl">0.</span>, <span class="fl">1.</span>)</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>yrange_lim_up <span class="op">=</span> (<span class="op">-</span><span class="fl">0.5</span>, <span class="dv">2</span>)</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>yrange_lim <span class="op">=</span> (<span class="op">-</span><span class="fl">0.1</span>, <span class="fl">0.5</span>)</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>xrange_lim <span class="op">=</span> (<span class="dv">40</span>, <span class="dv">120</span>)</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>sorted_data <span class="op">=</span> np.sort(X)</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>dim1, dim2 <span class="op">=</span> (<span class="dv">13</span>, <span class="dv">8</span>)</span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>fontsize <span class="op">=</span> <span class="dv">15</span></span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>fig1 <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(dim1 <span class="op">*</span> <span class="fl">1.5</span><span class="op">/</span><span class="dv">2</span>, dim2<span class="op">/</span><span class="dv">2</span>))</span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.subplots_adjust(hspace=0.3)</span></span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> fig1.add_subplot(<span class="dv">211</span>)</span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(yrange_lim_up)</span>
<span id="cb71-16"><a href="#cb71-16" aria-hidden="true" tabindex="-1"></a>ax.set_xlim(xrange_lim)</span>
<span id="cb71-17"><a href="#cb71-17" aria-hidden="true" tabindex="-1"></a>ax.get_xaxis().tick_bottom()</span>
<span id="cb71-18"><a href="#cb71-18" aria-hidden="true" tabindex="-1"></a>ax.axes.get_yaxis().set_visible(<span class="va">False</span>)</span>
<span id="cb71-19"><a href="#cb71-19" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'right'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb71-20"><a href="#cb71-20" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'top'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb71-21"><a href="#cb71-21" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'bottom'</span>].set_position((<span class="st">'data'</span>, <span class="fl">0.5</span>))</span>
<span id="cb71-22"><a href="#cb71-22" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'left'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb71-23"><a href="#cb71-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-24"><a href="#cb71-24" aria-hidden="true" tabindex="-1"></a>params[<span class="st">'s'</span>] <span class="op">=</span> <span class="dv">40</span></span>
<span id="cb71-25"><a href="#cb71-25" aria-hidden="true" tabindex="-1"></a>ax.scatter(X, y, <span class="op">**</span>params)</span>
<span id="cb71-26"><a href="#cb71-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-27"><a href="#cb71-27" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="vs">r'$y$'</span>, fontsize<span class="op">=</span>fontsize)</span>
<span id="cb71-28"><a href="#cb71-28" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="vs">r"Nombre d'échantillons: "</span> <span class="op">+</span> <span class="st">"$n=</span><span class="sc">{0}</span><span class="st">$"</span>.<span class="bu">format</span>(nb_samples),</span>
<span id="cb71-29"><a href="#cb71-29" aria-hidden="true" tabindex="-1"></a>             multialignment<span class="op">=</span><span class="st">'center'</span>)</span>
<span id="cb71-30"><a href="#cb71-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-31"><a href="#cb71-31" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> fig1.add_subplot(<span class="dv">212</span>)</span>
<span id="cb71-32"><a href="#cb71-32" aria-hidden="true" tabindex="-1"></a>ax2.set_xlim(xrange_lim)</span>
<span id="cb71-33"><a href="#cb71-33" aria-hidden="true" tabindex="-1"></a>ax2.set_ylim(yrange_lim_down)</span>
<span id="cb71-34"><a href="#cb71-34" aria-hidden="true" tabindex="-1"></a>plt.step(sorted_data, np.arange(sorted_data.size, dtype<span class="op">=</span><span class="st">'float'</span>) <span class="op">/</span> nb_samples,</span>
<span id="cb71-35"><a href="#cb71-35" aria-hidden="true" tabindex="-1"></a>         color<span class="op">=</span>brown)</span>
<span id="cb71-36"><a href="#cb71-36" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="vs">r'Fréquence cumulée'</span>, fontsize<span class="op">=</span>fontsize)</span>
<span id="cb71-37"><a href="#cb71-37" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="vs">r'$y$'</span>, fontsize<span class="op">=</span>fontsize)</span>
<span id="cb71-38"><a href="#cb71-38" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb71-39"><a href="#cb71-39" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb71-40"><a href="#cb71-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-41"><a href="#cb71-41" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig1, dirname, <span class="st">"DadWeightcdf"</span>, imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="exercice-quelle-est-la-taille-des-sauts" class="level3">
<h3 class="anchored" data-anchor-id="exercice-quelle-est-la-taille-des-sauts"><font color="red"> EXERCICE : Quelle est la taille des sauts? </font></h3>
</section>
</section>
<section id="quantiles-empiriques" class="level2">
<h2 class="anchored" data-anchor-id="quantiles-empiriques">Quantiles (empiriques)</h2>
<div id="cell-89" class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>fig2 <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(dim1 <span class="op">*</span> <span class="fl">1.5</span><span class="op">/</span><span class="dv">2</span>, dim2<span class="op">/</span><span class="dv">2</span>))</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>plt.subplots_adjust(hspace<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> fig2.add_subplot(<span class="dv">211</span>)</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(yrange_lim_up)</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>ax.set_xlim(xrange_lim)</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>ax.get_xaxis().tick_bottom()</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>ax.axes.get_yaxis().set_visible(<span class="va">False</span>)</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'right'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'top'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'bottom'</span>].set_position((<span class="st">'data'</span>, <span class="fl">0.5</span>))</span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>ax.spines[<span class="st">'left'</span>].set_color(<span class="st">'none'</span>)</span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a>ax.scatter(X, y, <span class="op">**</span>params)</span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="vs">r'$y$'</span>, fontsize<span class="op">=</span>fontsize)</span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="vs">r"Nombre d'échantillons: "</span> <span class="op">+</span> <span class="st">"$n=</span><span class="sc">{0}</span><span class="st">$"</span>.<span class="bu">format</span>(nb_samples),</span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a>             multialignment<span class="op">=</span><span class="st">'center'</span>)</span>
<span id="cb72-18"><a href="#cb72-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-19"><a href="#cb72-19" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> fig2.add_subplot(<span class="dv">212</span>)</span>
<span id="cb72-20"><a href="#cb72-20" aria-hidden="true" tabindex="-1"></a>ax2.set_xlim(xrange_lim)</span>
<span id="cb72-21"><a href="#cb72-21" aria-hidden="true" tabindex="-1"></a>ax2.set_ylim(yrange_lim_down)</span>
<span id="cb72-22"><a href="#cb72-22" aria-hidden="true" tabindex="-1"></a>plt.step(sorted_data, np.arange(sorted_data.size, dtype<span class="op">=</span><span class="st">'float'</span>) <span class="op">/</span> nb_samples,</span>
<span id="cb72-23"><a href="#cb72-23" aria-hidden="true" tabindex="-1"></a>         color<span class="op">=</span>brown)</span>
<span id="cb72-24"><a href="#cb72-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-25"><a href="#cb72-25" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="vs">r"Nombre d'échantillons: "</span> <span class="op">+</span> <span class="st">"$n=</span><span class="sc">{0}</span><span class="st">$"</span>.<span class="bu">format</span>(nb_samples),</span>
<span id="cb72-26"><a href="#cb72-26" aria-hidden="true" tabindex="-1"></a>             multialignment<span class="op">=</span><span class="st">'center'</span>)</span>
<span id="cb72-27"><a href="#cb72-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-28"><a href="#cb72-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-29"><a href="#cb72-29" aria-hidden="true" tabindex="-1"></a><span class="co">###############################################################################</span></span>
<span id="cb72-30"><a href="#cb72-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Quantile function: First value to display</span></span>
<span id="cb72-31"><a href="#cb72-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-32"><a href="#cb72-32" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> <span class="fl">0.1</span></span>
<span id="cb72-33"><a href="#cb72-33" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> np.percentile(X, p <span class="op">*</span> <span class="dv">100</span>)</span>
<span id="cb72-34"><a href="#cb72-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-35"><a href="#cb72-35" aria-hidden="true" tabindex="-1"></a>ax2.plot([q, xrange_lim[<span class="dv">0</span>]], [p, p], color<span class="op">=</span>brown, lw<span class="op">=</span><span class="fl">1.5</span>, ls<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb72-36"><a href="#cb72-36" aria-hidden="true" tabindex="-1"></a>ax2.plot([q, q], [<span class="dv">0</span>, p], color<span class="op">=</span>brown, lw<span class="op">=</span><span class="fl">1.5</span>, ls<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb72-37"><a href="#cb72-37" aria-hidden="true" tabindex="-1"></a>ax2.annotate(<span class="vs">r'$p=</span><span class="sc">%.2f</span><span class="vs">$'</span> <span class="op">%</span> p, xy<span class="op">=</span>(xrange_lim[<span class="dv">0</span>], p), xycoords<span class="op">=</span><span class="st">'data'</span>,</span>
<span id="cb72-38"><a href="#cb72-38" aria-hidden="true" tabindex="-1"></a>             xytext<span class="op">=</span>(<span class="dv">0</span>, <span class="dv">6</span>), textcoords<span class="op">=</span><span class="st">'offset points'</span>,</span>
<span id="cb72-39"><a href="#cb72-39" aria-hidden="true" tabindex="-1"></a>             fontsize<span class="op">=</span>fontsize <span class="op">-</span> <span class="dv">3</span>, color<span class="op">=</span>brown)</span>
<span id="cb72-40"><a href="#cb72-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-41"><a href="#cb72-41" aria-hidden="true" tabindex="-1"></a>ax2.annotate(<span class="vs">r'$F_n^\leftarrow(p)=</span><span class="sc">%.2f</span><span class="vs">$'</span> <span class="op">%</span> q, xy<span class="op">=</span>(q, <span class="dv">0</span>), xycoords<span class="op">=</span><span class="st">'data'</span>,</span>
<span id="cb72-42"><a href="#cb72-42" aria-hidden="true" tabindex="-1"></a>             xytext<span class="op">=</span>(<span class="op">-</span><span class="dv">40</span>, <span class="op">-</span><span class="dv">30</span>), textcoords<span class="op">=</span><span class="st">'offset points'</span>,</span>
<span id="cb72-43"><a href="#cb72-43" aria-hidden="true" tabindex="-1"></a>             fontsize<span class="op">=</span>fontsize <span class="op">-</span> <span class="dv">3</span>, color<span class="op">=</span>brown)</span>
<span id="cb72-44"><a href="#cb72-44" aria-hidden="true" tabindex="-1"></a><span class="co">###############################################################################</span></span>
<span id="cb72-45"><a href="#cb72-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Quantile function: Second value to display</span></span>
<span id="cb72-46"><a href="#cb72-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-47"><a href="#cb72-47" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> <span class="fl">0.90</span></span>
<span id="cb72-48"><a href="#cb72-48" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> np.percentile(X, p <span class="op">*</span> <span class="dv">100</span>)</span>
<span id="cb72-49"><a href="#cb72-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-50"><a href="#cb72-50" aria-hidden="true" tabindex="-1"></a>ax2.plot([q, xrange_lim[<span class="dv">0</span>]], [p, p], color<span class="op">=</span>brown, lw<span class="op">=</span><span class="fl">1.5</span>, ls<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb72-51"><a href="#cb72-51" aria-hidden="true" tabindex="-1"></a>ax2.plot([q, q], [<span class="dv">0</span>, p], color<span class="op">=</span>brown, lw<span class="op">=</span><span class="fl">1.5</span>, ls<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb72-52"><a href="#cb72-52" aria-hidden="true" tabindex="-1"></a>bbox <span class="op">=</span> <span class="bu">dict</span>(boxstyle<span class="op">=</span><span class="st">"round"</span>, fc<span class="op">=</span><span class="st">"0.8"</span>)</span>
<span id="cb72-53"><a href="#cb72-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-54"><a href="#cb72-54" aria-hidden="true" tabindex="-1"></a>ax2.annotate(<span class="vs">r'$p=</span><span class="sc">%.2f</span><span class="vs">$'</span> <span class="op">%</span> p, xy<span class="op">=</span>(xrange_lim[<span class="dv">0</span>], p), xycoords<span class="op">=</span><span class="st">'data'</span>,</span>
<span id="cb72-55"><a href="#cb72-55" aria-hidden="true" tabindex="-1"></a>             xytext<span class="op">=</span>(<span class="dv">0</span>, <span class="op">-</span><span class="dv">13</span>), textcoords<span class="op">=</span><span class="st">'offset points'</span>,</span>
<span id="cb72-56"><a href="#cb72-56" aria-hidden="true" tabindex="-1"></a>             fontsize<span class="op">=</span>fontsize <span class="op">-</span> <span class="dv">3</span>, color<span class="op">=</span>brown)</span>
<span id="cb72-57"><a href="#cb72-57" aria-hidden="true" tabindex="-1"></a>ax2.annotate(<span class="vs">r'$F_n^\leftarrow(p)=</span><span class="sc">%.2f</span><span class="vs">$'</span> <span class="op">%</span> q, xy<span class="op">=</span>(q, <span class="dv">0</span>), xycoords<span class="op">=</span><span class="st">'data'</span>,</span>
<span id="cb72-58"><a href="#cb72-58" aria-hidden="true" tabindex="-1"></a>             xytext<span class="op">=</span>(<span class="op">-</span><span class="dv">40</span>, <span class="op">-</span><span class="dv">30</span>), textcoords<span class="op">=</span><span class="st">'offset points'</span>,</span>
<span id="cb72-59"><a href="#cb72-59" aria-hidden="true" tabindex="-1"></a>             fontsize<span class="op">=</span>fontsize <span class="op">-</span> <span class="dv">3</span>, color<span class="op">=</span>brown)</span>
<span id="cb72-60"><a href="#cb72-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-61"><a href="#cb72-61" aria-hidden="true" tabindex="-1"></a>plt.step(sorted_data, np.arange(sorted_data.size, dtype<span class="op">=</span><span class="st">'float'</span>) <span class="op">/</span> nb_samples,</span>
<span id="cb72-62"><a href="#cb72-62" aria-hidden="true" tabindex="-1"></a>         color<span class="op">=</span>brown)</span>
<span id="cb72-63"><a href="#cb72-63" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="vs">r'Fréquence cumulée'</span>, fontsize<span class="op">=</span>fontsize)</span>
<span id="cb72-64"><a href="#cb72-64" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="vs">r'$y$'</span>, fontsize<span class="op">=</span>fontsize)</span>
<span id="cb72-65"><a href="#cb72-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-66"><a href="#cb72-66" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb72-67"><a href="#cb72-67" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb72-68"><a href="#cb72-68" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig2, dirname, <span class="st">"DadWeightQuantiles"</span>,</span>
<span id="cb72-69"><a href="#cb72-69" aria-hidden="true" tabindex="-1"></a>                  imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="visualisation-niveau-2" class="level2">
<h2 class="anchored" data-anchor-id="visualisation-niveau-2">Visualisation (niveau 2)</h2>
<section id="boxplots-boîte-à-moustache" class="level3">
<h3 class="anchored" data-anchor-id="boxplots-boîte-à-moustache">Boxplots / Boîte à moustache</h3>
<p>Visualiser la médiane, les quantiles 1/4 et 3/4, 1.5 inter-quartiles et outliers? voir e.g.&nbsp;: http://www.itse.be/statistique2010/co/233_Cours_boxplot.html</p>
<div id="cell-92" class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>nrow, ncol <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>np.random.seed(seed<span class="op">=</span><span class="dv">2021</span>)</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>fig, axs <span class="op">=</span> plt.subplots(nrow, ncol, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>), sharey<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>np.random.seed(seed<span class="op">=</span><span class="dv">2021</span>)</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>sns.stripplot(y<span class="op">=</span><span class="st">'dwt'</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>], data<span class="op">=</span>df_babies, orient<span class="op">=</span><span class="st">'vertical'</span>,color<span class="op">=</span><span class="st">"black"</span>, s<span class="op">=</span><span class="dv">5</span>, edgecolor<span class="op">=</span><span class="st">"black"</span>, alpha<span class="op">=</span><span class="fl">.15</span>, jitter<span class="op">=</span><span class="fl">0.07</span>)</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].set_title(<span class="st">"Masse du père"</span>)</span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].set_ylabel(<span class="st">"kg"</span>)</span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>sns.stripplot(y<span class="op">=</span><span class="st">'wt.1'</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>], data<span class="op">=</span>df_babies, orient<span class="op">=</span><span class="st">'vertical'</span>,color<span class="op">=</span><span class="st">"black"</span>, s<span class="op">=</span><span class="dv">5</span>, edgecolor<span class="op">=</span><span class="st">"black"</span>, alpha<span class="op">=</span><span class="fl">.15</span>, jitter<span class="op">=</span><span class="fl">0.07</span>)</span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>].set_title(<span class="st">"Masse de la mère"</span>)</span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>].set_ylabel(<span class="st">""</span>)</span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a>ylims <span class="op">=</span> axs[<span class="dv">0</span>].get_ylim()</span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig, dirname, <span class="st">"DadWeightStriplplot"</span>,</span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a>                  imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-93" class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>nrow, ncol <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>np.random.seed(seed<span class="op">=</span><span class="dv">2021</span>)</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>fig, axs <span class="op">=</span> plt.subplots(nrow, ncol, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>), sharey<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>sns.boxplot(y<span class="op">=</span><span class="st">'dwt'</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>], data<span class="op">=</span>df_babies, orient<span class="op">=</span><span class="st">'vertical'</span>)</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].set_title(<span class="st">"Masse du père"</span>)</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].set_ylabel(<span class="st">"kg"</span>)</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>sns.boxplot(y<span class="op">=</span><span class="st">'wt.1'</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>], data<span class="op">=</span>df_babies, orient<span class="op">=</span><span class="st">'vertical'</span>)</span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>].set_title(<span class="st">"Masse de la mère"</span>)</span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>].set_ylabel(<span class="st">""</span>)</span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig, dirname, <span class="st">"DadWeightBoxplot"</span>,</span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a>                  imageformat, saving<span class="op">=</span>saving)</span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true" tabindex="-1"></a>np.random.seed(seed<span class="op">=</span><span class="dv">2021</span>)</span>
<span id="cb74-17"><a href="#cb74-17" aria-hidden="true" tabindex="-1"></a>sns.stripplot(y<span class="op">=</span><span class="st">'dwt'</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>], data<span class="op">=</span>df_babies, orient<span class="op">=</span><span class="st">'vertical'</span>,color<span class="op">=</span><span class="st">"black"</span>, s<span class="op">=</span><span class="dv">5</span>, edgecolor<span class="op">=</span><span class="st">"black"</span>, alpha<span class="op">=</span><span class="fl">.15</span>, jitter<span class="op">=</span><span class="fl">0.07</span>)</span>
<span id="cb74-18"><a href="#cb74-18" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].set_title(<span class="st">"Masse du père"</span>)</span>
<span id="cb74-19"><a href="#cb74-19" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].set_ylabel(<span class="st">"kg"</span>)</span>
<span id="cb74-20"><a href="#cb74-20" aria-hidden="true" tabindex="-1"></a>sns.stripplot(y<span class="op">=</span><span class="st">'wt.1'</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>], data<span class="op">=</span>df_babies, orient<span class="op">=</span><span class="st">'vertical'</span>,color<span class="op">=</span><span class="st">"black"</span>, s<span class="op">=</span><span class="dv">5</span>, edgecolor<span class="op">=</span><span class="st">"black"</span>, alpha<span class="op">=</span><span class="fl">.15</span>, jitter<span class="op">=</span><span class="fl">0.07</span>)</span>
<span id="cb74-21"><a href="#cb74-21" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>].set_title(<span class="st">"Masse de la mère"</span>)</span>
<span id="cb74-22"><a href="#cb74-22" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>].set_ylabel(<span class="st">""</span>)</span>
<span id="cb74-23"><a href="#cb74-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-24"><a href="#cb74-24" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig, dirname, <span class="st">"DadWeightStriplplot_Boxplot"</span>,</span>
<span id="cb74-25"><a href="#cb74-25" aria-hidden="true" tabindex="-1"></a>                  imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="violons" class="level3">
<h3 class="anchored" data-anchor-id="violons">Violons</h3>
<div id="cell-95" class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>nrow, ncol <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>fig, axs <span class="op">=</span> plt.subplots(nrow, ncol, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>), sharey<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>sns.violinplot(y<span class="op">=</span><span class="st">'dwt'</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>], data<span class="op">=</span>df_babies, orient<span class="op">=</span><span class="st">'vertical'</span>)</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].set_title(<span class="st">"Masse du père"</span>)</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].set_ylabel(<span class="st">"kg"</span>)</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].set_ylim(ylims)</span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>sns.violinplot(y<span class="op">=</span><span class="st">'wt.1'</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>], data<span class="op">=</span>df_babies, orient<span class="op">=</span><span class="st">'vertical'</span>)</span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>].set_title(<span class="st">"Masse de la mère"</span>)</span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>].set_ylabel(<span class="st">""</span>)</span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig, dirname, <span class="st">"DadWeightViolin"</span>, imageformat, saving<span class="op">=</span>saving)</span>
<span id="cb75-15"><a href="#cb75-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-16"><a href="#cb75-16" aria-hidden="true" tabindex="-1"></a>np.random.seed(seed<span class="op">=</span><span class="dv">2021</span>)</span>
<span id="cb75-17"><a href="#cb75-17" aria-hidden="true" tabindex="-1"></a>sns.stripplot(y<span class="op">=</span><span class="st">'dwt'</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>], data<span class="op">=</span>df_babies, orient<span class="op">=</span><span class="st">'vertical'</span>,</span>
<span id="cb75-18"><a href="#cb75-18" aria-hidden="true" tabindex="-1"></a>              color<span class="op">=</span><span class="st">"black"</span>, s<span class="op">=</span><span class="dv">5</span>, edgecolor<span class="op">=</span><span class="st">"black"</span>, alpha<span class="op">=</span><span class="fl">.15</span>, jitter<span class="op">=</span><span class="fl">0.07</span>)</span>
<span id="cb75-19"><a href="#cb75-19" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].set_ylabel(<span class="st">"kg"</span>)</span>
<span id="cb75-20"><a href="#cb75-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-21"><a href="#cb75-21" aria-hidden="true" tabindex="-1"></a>sns.stripplot(y<span class="op">=</span><span class="st">'wt.1'</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>], data<span class="op">=</span>df_babies, orient<span class="op">=</span><span class="st">'vertical'</span>,</span>
<span id="cb75-22"><a href="#cb75-22" aria-hidden="true" tabindex="-1"></a>              color<span class="op">=</span><span class="st">"black"</span>, s<span class="op">=</span><span class="dv">5</span>, edgecolor<span class="op">=</span><span class="st">"black"</span>, alpha<span class="op">=</span><span class="fl">.15</span>, jitter<span class="op">=</span><span class="fl">0.07</span>)</span>
<span id="cb75-23"><a href="#cb75-23" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>].set_ylabel(<span class="st">""</span>)</span>
<span id="cb75-24"><a href="#cb75-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-25"><a href="#cb75-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-26"><a href="#cb75-26" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig, dirname, <span class="st">"DadWeightStriplplot_n_violin"</span>,</span>
<span id="cb75-27"><a href="#cb75-27" aria-hidden="true" tabindex="-1"></a>                  imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="nouvelle-base-de-données-expérience-sur-les-poussins" class="level1">
<h1>Nouvelle base de données : expérience sur les poussins</h1>
<p>Des chercheurs se posent la question de savoir si parmi trois traitements possible, il en existe un meilleur que les autres pour améliorer la prise de masse des poussins. Ils ont consigné l’impact de trois traitements sur la croissance de 45 poussins pour répondre à cette question. Les 45 oeufs sont répartis aléatoirement entre les trois types de traitement (15/15/15). Au bout d’un nombre de jours fixé à l’avance, on mesure la croissance (masse, en décigrammes) du poussin et on note alors son sexe.</p>
<div id="cell-97" class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># à passer en première lecture si le package donwload n'est pas installé</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"http://josephsalmon.eu/enseignement/datasets/poussin.txt"</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>path_target <span class="op">=</span> <span class="st">"./poussins.txt"</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>download(url, path_target, replace<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-98" class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Le fichier peut être téléchargé ici:</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="co"># http://josephsalmon.eu/enseignement/datasets/poussin.txt</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="co"># et mis dans le repertoire de votre notebook</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>df_chicken <span class="op">=</span> pd.read_csv(<span class="st">"poussins.txt"</span>, sep<span class="op">=</span><span class="st">'\s+'</span>) <span class="co"># \s+ : for handling spaces</span></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>df_chicken.head(n<span class="op">=</span><span class="dv">5</span>)  <span class="co"># df stands for Data Frame</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-99" class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>df_chicken.columns <span class="op">=</span> [<span class="st">"Traitement"</span>, <span class="st">"Sexe"</span>, <span class="st">"Masse (dg)"</span>]</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>df_chicken[<span class="st">'Sexe'</span>].replace([<span class="dv">1</span>, <span class="dv">2</span>], [<span class="st">"Mâle"</span>, <span class="st">"Femelle"</span>], inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>df_chicken.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-100" class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>fig_violons <span class="op">=</span> plt.figure()</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>sns.violinplot(x<span class="op">=</span><span class="st">"Traitement"</span>, y<span class="op">=</span><span class="st">"Masse (dg)"</span>,</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>               data<span class="op">=</span>df_chicken, palette<span class="op">=</span><span class="st">"muted"</span>, scale<span class="op">=</span><span class="st">"count"</span>, inner<span class="op">=</span><span class="st">'box'</span>)</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Violons de la masse d'un poulet (dg) selon le traitement appliqué"</span>)</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig_violons, dirname, <span class="st">"Violons_poussin"</span>,</span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>                  imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Conclusion</strong> (partielle): À première vue, le traitement 3 semble celui conduisant à une plus grosse croissance des poussins…</p>
<section id="violons-avancés" class="level2">
<h2 class="anchored" data-anchor-id="violons-avancés">Violons avancés</h2>
<div id="cell-103" class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>fig_violons_sexe <span class="op">=</span> plt.figure()</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>sns.violinplot(x<span class="op">=</span><span class="st">"Sexe"</span>, y<span class="op">=</span><span class="st">"Masse (dg)"</span>, hue<span class="op">=</span><span class="st">"Traitement"</span>,</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>               data<span class="op">=</span>df_chicken, palette<span class="op">=</span><span class="st">"muted"</span>, scale<span class="op">=</span><span class="st">"count"</span>)</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Violons de la masse d'un poulet (dg) selon le traitement choisi et le sexe"</span>)</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig_violons_sexe, dirname, <span class="st">"Violons_poussin_sexe"</span>,</span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>                  imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-104" class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>df_babies[<span class="st">'Statut tabagique'</span>] <span class="op">=</span> np.where(df_babies[<span class="st">'smoke'</span>]<span class="op">&gt;</span><span class="dv">0</span>, <span class="st">"Mère fumeuse"</span>, <span class="st">"Mère non-fumeuse"</span>)</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>fig_violons_fumeurs <span class="op">=</span> plt.figure()</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>sns.violinplot(y<span class="op">=</span><span class="st">"wt"</span>, x<span class="op">=</span><span class="st">"Statut tabagique"</span>,</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>               data<span class="op">=</span>df_babies, palette<span class="op">=</span><span class="st">"muted"</span>, scale<span class="op">=</span><span class="st">"count"</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>               )</span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Masse du nourisson (en kg)'</span>)</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Violons de la masse du nourisson (kg) selon le niveau de tabac de la mère"</span>)</span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig_violons_fumeurs, dirname, <span class="st">"Violons_smoke_weight"</span>,</span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>                  imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="groupement-en-groupby" class="level2">
<h2 class="anchored" data-anchor-id="groupement-en-groupby">Groupement (en: Groupby)</h2>
<div id="cell-107" class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>df_chicken.groupby([<span class="st">'Sexe'</span>,<span class="st">'Traitement'</span>]).count()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-108" class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>fig1 <span class="op">=</span> plt.figure()</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x<span class="op">=</span><span class="st">"Traitement"</span>, y<span class="op">=</span><span class="st">"Masse (dg)"</span>, hue<span class="op">=</span><span class="st">"Sexe"</span>, data<span class="op">=</span>df_chicken, s<span class="op">=</span><span class="dv">100</span>)</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>frame1 <span class="op">=</span> plt.gca()</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>frame1.axes.get_xaxis().set_ticks([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>])</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig1, dirname, <span class="st">"distribution_poussin"</span>, imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="classes-déséquilibrées-et-conclusions-hâtives" class="level2">
<h2 class="anchored" data-anchor-id="classes-déséquilibrées-et-conclusions-hâtives">Classes déséquilibrées et conclusions hâtives</h2>
<p>Dans l’expérience ci-dessus on compte les poussins par type de traitement et par sexe. Ainsi, il y avait 10 femelles qui ont reçu le traitement 1 alors que 5 mâles seulement ont reçu ce traitement 1. Le sentiment visuel que les premiers violons indiquant un avantage du traitement 3 venait simplement du fait que plus de mâles (dont la masse / le rendement est plus gros) avaient reçu le traitement 3. Il faut donc se méfier de comment les classes sont (ou non) équilibrées…</p>
</section>
<section id="corrélations" class="level2">
<h2 class="anchored" data-anchor-id="corrélations">Corrélations</h2>
<div id="cell-111" class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>df_babies[[<span class="st">"dwt"</span>, <span class="st">"dht"</span>]].corr()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-112" class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>df_babies[[<span class="st">"wt"</span>, <span class="st">"ht"</span>]].corr()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-113" class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>fig_scatter <span class="op">=</span> plt.figure()</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.scatterplot(x<span class="op">=</span>df_babies[<span class="st">"dht"</span>], y<span class="op">=</span>df_babies[<span class="st">"dwt"</span>])</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Masse du père en fonction de sa taille'</span>)</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Masse (kg)'</span>)</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'Taille (cm)'</span>)</span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-114" class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure()</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardization</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.scatterplot(x<span class="op">=</span>(df_babies[<span class="st">"dht"</span>] <span class="op">-</span> df_babies[<span class="st">"dht"</span>].mean()) <span class="op">/</span> df_babies[<span class="st">"dht"</span>].std(),</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>                     y<span class="op">=</span>(df_babies[<span class="st">"dwt"</span>] <span class="op">-</span> df_babies[<span class="st">"dwt"</span>].mean()) <span class="op">/</span> df_babies[<span class="st">"dwt"</span>].std())</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Masse du père en fonction de sa taille'</span>)</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Masse (standarisée)'</span>)</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'Taille (standarisée)'</span>)</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>plt.xlim(<span class="op">-</span><span class="dv">5</span>, <span class="dv">5</span>)</span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="op">-</span><span class="dv">5</span>, <span class="dv">5</span>)</span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a>ax.set_aspect(<span class="st">'equal'</span>)</span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(<span class="op">-</span><span class="dv">5</span>, <span class="dv">5</span>, num<span class="op">=</span><span class="dv">100</span>)</span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Coefficient de corrélation (</span><span class="sc">{0:.2f}</span><span class="st">)"</span>.<span class="bu">format</span>(</span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a>    np.corrcoef(df_babies[<span class="st">"dwt"</span>], df_babies[<span class="st">"dht"</span>])[<span class="dv">0</span>, <span class="dv">1</span>]))</span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig, dirname, <span class="st">"corre_wt_ht_dad"</span>, imageformat, saving<span class="op">=</span>saving)</span>
<span id="cb87-17"><a href="#cb87-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-18"><a href="#cb87-18" aria-hidden="true" tabindex="-1"></a>plt.plot(x, np.corrcoef(df_babies[<span class="st">"dwt"</span>], df_babies[<span class="st">"dht"</span>])[</span>
<span id="cb87-19"><a href="#cb87-19" aria-hidden="true" tabindex="-1"></a>         <span class="dv">0</span>, <span class="dv">1</span>] <span class="op">*</span> x)  <span class="co"># Least Squares line</span></span>
<span id="cb87-20"><a href="#cb87-20" aria-hidden="true" tabindex="-1"></a>my_saving_display(fig, dirname, <span class="st">"corre_wt_ht_dad_w_line"</span>,</span>
<span id="cb87-21"><a href="#cb87-21" aria-hidden="true" tabindex="-1"></a>                  imageformat, saving<span class="op">=</span>saving)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-115" class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>np.corrcoef(df_babies[<span class="st">"dwt"</span>], df_babies[<span class="st">"dht"</span>])[<span class="dv">0</span>, <span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="plus-de-conseils-en-pandas-en-anglais" class="level2">
<h2 class="anchored" data-anchor-id="plus-de-conseils-en-pandas-en-anglais">Plus de conseils en <em>Pandas</em> (en anglais):</h2>
<p>https://medium.com/dunder-data/minimally-sufficient-pandas-a8e67f2a2428</p>


</section>
</section>

</main> <!-- /main -->
<hr>

<span style="margin-top:20px; margin-bottom: 20px"></span>

<!-- <img style="width:100%;" src="/img/marvins_log_thumbnail.png"> -->

<!-- <p style="margin: 20px"> Do you enjoy my blog? Subscribe here to get notifications and updates (it's free!):</p> -->

<!-- <div class="grid">
  <div class=".d-none .d-md-block g-col-md-1"></div>
  <div class="g-col-12 g-col-md-10">
    <iframe src="https://embeds.beehiiv.com/c7111066-479b-43db-ad92-8d703fe96bf0?slim=true" data-test-id="beehiiv-embed" frameborder="0" scrolling="no" style="margin: 0; border-radius: 0px !important; background-color: transparent; width:100%; padding: 20px"></iframe>
  </div>
  <div class=".d-none .d-md-block g-col-md-1"></div>
</div> -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p><span class="faux-block"><i class="fa-brands fa-creative-commons" aria-label="creative-commons"></i> 2024 Joseph Salmon</span> <span class="faux-block"><a href="https://github.com/josephsalmon/MyWebsite"><i class="fa-brands fa-github" aria-label="github"></i> Source Code</a></span></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p><span class="faux-block"> Designed with <i class="fa-solid fa-heart" aria-label="heart"></i></span> <span class="faux-block"> Built with <a href="https://quarto.org/">Quarto</a></span></p>
</div>
  </div>
</footer>




</body></html>